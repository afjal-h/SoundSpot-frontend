(function(){"use strict";var e={2676:function(e,t,l){var o=l(9242),a=(l(7658),l(3396)),s=l(7139),i=l(7718),n=l(588),r=l(870),d=l(9752),u=l(6572),c=l(9234),m=l(6824),h=l(3289),f=l(8649),p=l(9457),g=l(2127),w=l(3140),k=l(4193),_=l(5030);const W=["src"];function D(e,t,o,D,b,j){const y=(0,a.up)("v-list-item-content"),C=(0,a.up)("v-list-item-avatar"),v=(0,a.up)("router-view");return(0,a.wg)(),(0,a.j4)(i.q,null,{default:(0,a.w5)((()=>[(0,a.Wm)(n.L,{app:"",color:"black",dark:""},{default:(0,a.w5)((()=>[(0,a._)("img",{src:l(8155),alt:"logo",class:"logo"},null,8,W),(0,a.Wm)(_.q,null,{default:(0,a.w5)((()=>[(0,a.Uk)("SoundSpot")])),_:1}),(0,a.Wm)(c.C),this.$store.state.isAuthenticated?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(r.T,{key:0,text:"",onClick:t[0]||(t[0]=e=>{this.$router.push("/home")})},{default:(0,a.w5)((()=>[(0,a.Uk)(" Home ")])),_:1})),e.$store.state.isAuthenticated?((0,a.wg)(),(0,a.j4)(r.T,{key:1,text:"",onClick:t[1]||(t[1]=e=>{this.$router.push("/dashboard")})},{default:(0,a.w5)((()=>[(0,a.Uk)(" Projects ")])),_:1})):(0,a.kq)("",!0),this.$store.state.isAuthenticated?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(r.T,{key:2,text:"",onClick:t[2]||(t[2]=e=>{this.$router.push("/login")})},{default:(0,a.w5)((()=>[(0,a.Uk)(" Login ")])),_:1})),e.$store.state.isAuthenticated?((0,a.wg)(),(0,a.j4)(k.T,{key:3,"offset-y":""},{activator:(0,a.w5)((({props:e})=>[(0,a.Wm)(r.T,(0,a.dG)({icon:""},e),{default:(0,a.w5)((()=>[(0,a.Wm)(h.t,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(j.hasUnreadNotifications?"mdi-bell-alert":"mdi-bell"),1)])),_:1})])),_:2},1040)])),default:(0,a.w5)((()=>[(0,a.Wm)(f.i,null,{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(b.notifications,(e=>((0,a.wg)(),(0,a.j4)(p.l,{key:e.id},{default:(0,a.w5)((()=>[(0,a.Wm)(y,null,{default:(0,a.w5)((()=>[(0,a.Wm)(g.V,null,{default:(0,a.w5)((()=>[(0,a.Uk)("New task assigned for project:"+(0,s.zw)(e.project)+" ",1),(0,a.Wm)(h.t,{color:"red",small:"",onClick:t=>j.dismissNotification(e.id)},{default:(0,a.w5)((()=>[(0,a.Uk)("mdi-close-circle")])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})):(0,a.kq)("",!0),e.$store.state.isAuthenticated?((0,a.wg)(),(0,a.j4)(k.T,{key:4,"offset-y":""},{activator:(0,a.w5)((({props:e})=>[(0,a.Wm)(r.T,(0,a.dG)({icon:""},e),{default:(0,a.w5)((()=>[(0,a.Wm)(h.t,null,{default:(0,a.w5)((()=>[(0,a.Uk)("mdi-account-circle")])),_:1})])),_:2},1040)])),default:(0,a.w5)((()=>[(0,a.Wm)(d._,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u.E,null,{default:(0,a.w5)((()=>[(0,a.Wm)(m.o,{align:"center",style:{"padding-top":"10px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(C,null,{default:(0,a.w5)((()=>[(0,a.Wm)(h.t,{size:"48"},{default:(0,a.w5)((()=>[(0,a.Uk)("mdi-account-circle")])),_:1})])),_:1}),(0,a.Wm)(y,null,{default:(0,a.w5)((()=>[(0,a.Wm)(g.V,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(this.userInfo.username),1)])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.Wm)(f.i,null,{default:(0,a.w5)((()=>[(0,a.Wm)(p.l,{onClick:t[3]||(t[3]=e=>{this.$router.push("/edit-profile")})},{default:(0,a.w5)((()=>[(0,a.Wm)(g.V,null,{default:(0,a.w5)((()=>[(0,a.Uk)("Edit Profile")])),_:1})])),_:1}),(0,a.Wm)(p.l,{onClick:t[4]||(t[4]=e=>j.signOut())},{default:(0,a.w5)((()=>[(0,a.Wm)(g.V,null,{default:(0,a.w5)((()=>[(0,a.Uk)("Sign out")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})):(0,a.kq)("",!0)])),_:1}),(0,a.Wm)(w.O),(0,a.Wm)(v)])),_:1})}var b=l(4161),j={computed:{hasUnreadNotifications(){return this.notifications.some((e=>!e.is_read))}},name:"App",beforeCreate(){this.$store.commit("initializeStore");const e=this.$store.state.token;console.log(this.$store.state.isAuthenticated),b.Z.defaults.headers.common.Authorization=e?"Token "+e:"",b.Z.get("/api/v1/users/me/",e).then((e=>{this.userInfo=e.data,console.log(this.userInfo),this.fetchNotifications()})).catch((e=>{console.log(e)}))},methods:{signOut(){b.Z.post("/api/v1/token/logout/",this.$store.state.token).then((e=>{this.$store.commit("removeToken"),console.log(e),window.location.reload()})).catch((e=>{console.log(e)}))},async fetchNotifications(){try{const e=await b.Z.get("/notifications/"+this.userInfo.username+"/");this.notifications=e.data.notifications}catch(e){console.error("Error fetching notifications:",e)}},dismissNotification(e){b.Z.post(`/api/mark_notification_as_read/${e}/`).then((t=>{t.data.success?this.notifications=this.notifications.filter((t=>t.id!==e)):console.error("Failed to dismiss notification.")})).catch((e=>{console.error("Failed to dismiss notification:",e)}))}},data(){return{userInfo:"",drawer:!1,profileDialog:!1,notifications:[]}}},y=l(89);const C=(0,y.Z)(j,[["render",D],["__scopeId","data-v-29550192"]]);var v=C,U=l(2483),P=l(652),V=l(1888),S=l(1334),x=l(6422),T=l(8521),F=l(9671),A=l(165);const Z=e=>((0,a.dD)("data-v-193f1a04"),e=e(),(0,a.Cn)(),e),I=Z((()=>(0,a._)("div",{class:"background"},null,-1))),$={class:"text-center"},z=Z((()=>(0,a._)("h1",{class:"white--text"},"Login to Soundspot",-1))),q=Z((()=>(0,a._)("br",null,null,-1))),N=Z((()=>(0,a._)("span",{class:"white--text px-8"},"Login",-1)));function E(e,t,l,s,n,u){const c=(0,a.up)("router-link");return(0,a.wg)(),(0,a.j4)(i.q,null,{default:(0,a.w5)((()=>[I,(0,a.Wm)(w.O,{class:"d-flex justify-center align-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(T.D,{cols:"10",lg:"4",class:"mx-auto"},{default:(0,a.w5)((()=>[(0,a.Wm)(d._,{class:"pa-4",color:"grey-darken-4"},{default:(0,a.w5)((()=>[(0,a._)("div",$,[(0,a.Wm)(P.V,{size:"100",color:"grey"},{default:(0,a.w5)((()=>[(0,a.Wm)(h.t,{size:"40",color:"white"},{default:(0,a.w5)((()=>[(0,a.Uk)("mdi-account")])),_:1})])),_:1}),z]),(0,a.Wm)(x.O,{onSubmit:(0,o.iM)(u.loginForm,["prevent"]),ref:"form"},{default:(0,a.w5)((()=>[(0,a.Wm)(V.Z,null,{default:(0,a.w5)((()=>[(0,a.Wm)(A.hw,{modelValue:e.username,"onUpdate:modelValue":t[0]||(t[0]=t=>e.username=t),rules:e.usernameRules,color:"blue",type:"text",label:"Username",placeholder:"Username","prepend-inner-icon":"mdi-account"},null,8,["modelValue","rules"]),(0,a.Wm)(A.hw,{modelValue:e.password,"onUpdate:modelValue":t[1]||(t[1]=t=>e.password=t),rules:e.passwordRules,type:e.showPassword?"text":"password",color:"white",label:"Password",placeholder:"Password","prepend-inner-icon":"mdi-key","append-icon":e.showPassword?"mdi-eye":"mdi-eye-off","onClick:append":t[2]||(t[2]=t=>e.showPassword=!e.showPassword)},null,8,["modelValue","rules","type","append-icon"])])),_:1}),(0,a.Wm)(c,{class:"link",to:"/sign-up"},{default:(0,a.w5)((()=>[(0,a.Uk)("Need an account? Register")])),_:1}),q,(0,a.Wm)(c,{class:"link",to:"/resetpassword"},{default:(0,a.w5)((()=>[(0,a.Uk)("Forgot your password? Reset here")])),_:1}),(0,a.Wm)(S.h,{class:"justify-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(r.T,{loading:e.loadingAnim,type:"submit",color:"indigo"},{default:(0,a.w5)((()=>[N])),_:1},8,["loading"])])),_:1})])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1}),(0,a.Wm)(F.v,{color:"red",modelValue:e.snackbar,"onUpdate:modelValue":t[3]||(t[3]=t=>e.snackbar=t)},{default:(0,a.w5)((()=>[(0,a.Uk)(" Login Failed. Please try again ")])),_:1},8,["modelValue"])])),_:1})}var L={name:"LoginPage",components:{},data:()=>({snackbar:!1,showPassword:!1,valid:!1,password:"",passwordRules:[e=>!!e||"Password is required"],username:"",usernameRules:[e=>!!e||"E-mail is required"],loadingAnim:!1}),methods:{loginForm(){if(this.$refs.form.validate()){this.loadingAnim=!0;const e={username:this.username,password:this.password};b.Z.post("/api/v1/token/login/",e).then((e=>{console.log(e);const t=e.data.auth_token;this.$store.commit("setToken",t),console.log(this.$store.state.isAuthenticated),b.Z.defaults.headers.common.Authorization="Token "+t,localStorage.setItem("token",t),this.$router.push("/dashboard")})).catch((e=>{console.log(e)})),setTimeout((()=>{this.loadingAnim=!1,this.snackbar=!0}),3e3)}}}};const M=(0,y.Z)(L,[["render",E],["__scopeId","data-v-193f1a04"]]);var R=M;const O=e=>((0,a.dD)("data-v-3aa4c00b"),e=e(),(0,a.Cn)(),e),H=O((()=>(0,a._)("div",{class:"background"},null,-1))),K={class:"text-center"},Y=O((()=>(0,a._)("h1",{class:"white--text"},"Create an account",-1))),B=O((()=>(0,a._)("span",{class:"white--text px-8"},"Continue",-1)));function X(e,t,l,s,n,u){const c=(0,a.up)("router-link");return(0,a.wg)(),(0,a.j4)(i.q,null,{default:(0,a.w5)((()=>[H,(0,a.Wm)(w.O,{class:"d-flex justify-center align-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(T.D,{cols:"10",lg:"4",class:"mx-auto"},{default:(0,a.w5)((()=>[(0,a.Wm)(d._,{class:"pa-4",color:"grey-darken-4"},{default:(0,a.w5)((()=>[(0,a._)("div",K,[(0,a.Wm)(P.V,{size:"100",color:"grey"},{default:(0,a.w5)((()=>[(0,a.Wm)(h.t,{size:"40",color:"white"},{default:(0,a.w5)((()=>[(0,a.Uk)("mdi-account")])),_:1})])),_:1}),Y]),(0,a.Wm)(x.O,{onSubmit:(0,o.iM)(u.signUpForm,["prevent"]),ref:"form"},{default:(0,a.w5)((()=>[(0,a.Wm)(V.Z,null,{default:(0,a.w5)((()=>[(0,a.Wm)(A.hw,{modelValue:e.email,"onUpdate:modelValue":t[0]||(t[0]=t=>e.email=t),rules:e.emailRules,color:"white",type:"email",label:"Email",placeholder:"Email"},null,8,["modelValue","rules"]),(0,a.Wm)(A.hw,{modelValue:e.firstName,"onUpdate:modelValue":t[1]||(t[1]=t=>e.firstName=t),color:"white",type:"text",label:"First name",placeholder:"First Name"},null,8,["modelValue"]),(0,a.Wm)(A.hw,{modelValue:e.lastName,"onUpdate:modelValue":t[2]||(t[2]=t=>e.lastName=t),color:"white",type:"text",label:"Last name",placeholder:"Last Name"},null,8,["modelValue"]),(0,a.Wm)(A.hw,{modelValue:e.username,"onUpdate:modelValue":t[3]||(t[3]=t=>e.username=t),rules:e.usernameRules,color:"white",type:"text",label:"Username",placeholder:"Username"},null,8,["modelValue","rules"]),(0,a.Wm)(A.hw,{modelValue:e.password,"onUpdate:modelValue":t[4]||(t[4]=t=>e.password=t),rules:e.passwordRules,type:e.showPassword?"text":"password",color:"white",label:"Password",placeholder:"Password","append-icon":e.showPassword?"mdi-eye":"mdi-eye-off","onClick:append":t[5]||(t[5]=t=>e.showPassword=!e.showPassword)},null,8,["modelValue","rules","type","append-icon"])])),_:1}),(0,a.Wm)(c,{class:"link",to:"/login"},{default:(0,a.w5)((()=>[(0,a.Uk)("Already have an account? Sign in")])),_:1}),(0,a.Wm)(S.h,{class:"justify-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(r.T,{disabled:!u.isFormFilled,loading:e.loadingAnim,type:"submit",color:"indigo"},{default:(0,a.w5)((()=>[B])),_:1},8,["disabled","loading"])])),_:1})])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1}),(0,a.Wm)(F.v,{color:"red",modelValue:e.snackbar,"onUpdate:modelValue":t[6]||(t[6]=t=>e.snackbar=t)},{default:(0,a.w5)((()=>[(0,a.Uk)(" Sign up Failed. Please try again ")])),_:1},8,["modelValue"])])),_:1})}var G={computed:{isFormFilled(){return this.email&&this.firstName&&this.lastName&&this.username&&this.password}},name:"SignUp",components:{},data:()=>({snackbar:!1,firstName:"",lastName:"",showPassword:!1,password:"",passwordRules:[e=>!!e||"Password is required",e=>e&&e.length>=7||"Password must be less than 10 characters",e=>/.*[!@#$&*]/.test(e)||"Password must have one special character",e=>/.*[A-Z].*[A-Z]/.test(e)||"Password must have two uppercase letters"],email:"",emailRules:[e=>!!e||"E-mail is required",e=>/.+@.+/.test(e)||"E-mail must be valid"],username:"",usernameRules:[e=>!!e||"Username is required"],loadingAnim:!1}),methods:{signUpForm(){if(this.$refs.form.validate()){this.loadingAnim=!0;const e={email:this.email,username:this.username,password:this.password,first_name:this.firstName,last_name:this.lastName};b.Z.post("/api/v1/users/",e).then((e=>{this.$router.push("/login"),console.log(e)})).catch((e=>{console.log(e)})),setTimeout((()=>{this.loadingAnim=!1,this.snackbar=!0}),3e3)}}}};const Q=(0,y.Z)(G,[["render",X],["__scopeId","data-v-3aa4c00b"]]);var J=Q,ee=l(3369);const te=e=>((0,a.dD)("data-v-5aa6a28a"),e=e(),(0,a.Cn)(),e),le=te((()=>(0,a._)("h1",null,"Welcome to SoundSpot",-1))),oe=te((()=>(0,a._)("p",null," Your ultimate music project collaboration platform that keeps everything organized and makes collaboration easy. ",-1))),ae=te((()=>(0,a._)("div",{class:"wave-divider"},null,-1))),se=te((()=>(0,a._)("h2",null,"Features",-1))),ie=te((()=>(0,a._)("h3",null,"Create & Collaborate",-1))),ne=te((()=>(0,a._)("p",null," Collaborate with others and create amazing music projects with SoundSpot. ",-1))),re=te((()=>(0,a._)("h3",null,"Organize Your Projects",-1))),de=te((()=>(0,a._)("p",null," Keep your music projects organized and easily accessible with SoundSpot. ",-1))),ue=te((()=>(0,a._)("h3",null,"Upload & Share",-1))),ce=te((()=>(0,a._)("p",null," Upload your projects and share them with the world using SoundSpot's sharing features. ",-1)));function me(e,t,l,o,s,n){return(0,a.wg)(),(0,a.j4)(i.q,null,{default:(0,a.w5)((()=>[(0,a.Wm)(w.O,null,{default:(0,a.w5)((()=>[(0,a.Wm)(ee.K,{fluid:"",class:"soundspot-home"},{default:(0,a.w5)((()=>[(0,a.Wm)(m.o,{class:"hero-section"},{default:(0,a.w5)((()=>[(0,a.Wm)(T.D,{cols:"12",class:"hero-content"},{default:(0,a.w5)((()=>[le,oe,(0,a.Wm)(r.T,{color:"primary",onClick:t[0]||(t[0]=e=>{this.$router.push("/sign-up")}),outlined:"",large:""},{default:(0,a.w5)((()=>[(0,a.Uk)("Get Started")])),_:1})])),_:1})])),_:1}),ae,(0,a.Wm)(m.o,{class:"features-section"},{default:(0,a.w5)((()=>[(0,a.Wm)(T.D,{cols:"12"},{default:(0,a.w5)((()=>[se])),_:1}),(0,a.Wm)(T.D,{cols:"12",sm:"4",class:"feature"},{default:(0,a.w5)((()=>[(0,a.Wm)(h.t,{size:"64"},{default:(0,a.w5)((()=>[(0,a.Uk)("mdi-music-circle-outline")])),_:1}),ie,ne])),_:1}),(0,a.Wm)(T.D,{cols:"12",sm:"4",class:"feature"},{default:(0,a.w5)((()=>[(0,a.Wm)(h.t,{size:"64"},{default:(0,a.w5)((()=>[(0,a.Uk)("mdi-folder-music-outline")])),_:1}),re,de])),_:1}),(0,a.Wm)(T.D,{cols:"12",sm:"4",class:"feature"},{default:(0,a.w5)((()=>[(0,a.Wm)(h.t,{size:"64"},{default:(0,a.w5)((()=>[(0,a.Uk)("mdi-cloud-upload-outline")])),_:1}),ue,ce])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}var he={name:"SoundSpotHome"};const fe=(0,y.Z)(he,[["render",me],["__scopeId","data-v-5aa6a28a"]]);var pe=fe,ge=l(1332),we=l(7103),ke=l(3601),_e=l(3121),We=l(8694),De=l(2e3),be=l(4286),je=l(4413),ye=l(3144),Ce=l(9870),ve=l(4842),Ue=l(6161),Pe=l(4722);const Ve={key:0,class:"project_info"},Se={class:"d-flex flex-no-wrap justify-space-between"},xe=["src"],Te=(0,a._)("div",{style:{"text-align":"center"}},[(0,a._)("span",{class:"headline"},"Edit Project")],-1),Fe={class:"d-flex align-center flex-column"},Ae=(0,a._)("div",{style:{"text-align":"center"}},[(0,a._)("span",{class:"headline"},"Add Song")],-1),Ze={key:0},Ie=(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",{class:"text-left"}," Title "),(0,a._)("th",{class:"text-left"}," Completed "),(0,a._)("th",{class:"text-left"}," Created at "),(0,a._)("th",{class:"text-left"}," Updated at "),(0,a._)("th",{class:"text-right"}," Action ")])],-1),$e=["onClick"],ze={class:"capitalize"},qe={class:"capitalize"},Ne={class:"text-right"},Ee={style:{display:"flex","justify-content":"center","padding-bottom":"10px"}},Le=(0,a._)("div",{style:{"text-align":"center"}},[(0,a._)("span",{class:"headline"},"Finish Task")],-1),Me={style:{display:"flex","justify-content":"center","padding-bottom":"1px","padding-top":"20px"}},Re=(0,a._)("span",{class:"mdi mdi-account-circle profile-icon"},null,-1),Oe={class:"username"},He={class:"message"},Ke={class:"message-input"},Ye={class:"user- name"},Be={class:"action"},Xe={class:"model"},Ge={class:"timestamp"},Qe=(0,a._)("div",{style:{"text-align":"center"}},[(0,a._)("span",{class:"headline"},"Add Task")],-1),Je=["src"],et=(0,a._)("div",{style:{"text-align":"center"}},[(0,a._)("span",{class:"headline"},"Add Project")],-1);function tt(e,t,l,n,_,W){const D=(0,a.up)("v-subheader"),b=(0,a.up)("VueDatePicker");return(0,a.wg)(),(0,a.j4)(i.q,{id:"inspire"},{default:(0,a.w5)((()=>[(0,a.Wm)(w.O,{class:"bg-grey-lighten-3",dark:""},{default:(0,a.w5)((()=>[(0,a.Wm)(ee.K,{fluid:"",class:"dashboard"},{default:(0,a.w5)((()=>[(0,a.Wm)(m.o,null,{default:(0,a.w5)((()=>[(0,a.Wm)(T.D,{cols:"2",class:"pt-16"},{default:(0,a.w5)((()=>[(0,a.Wm)(be.CX,{rounded:"lg"},{default:(0,a.w5)((()=>[(0,a.Wm)(u.E,null,{default:(0,a.w5)((()=>[(0,a.Wm)(D,{align:"center"},{default:(0,a.w5)((()=>[(0,a.Uk)(" In progress ")])),_:1})])),_:1}),(0,a.Wm)(f.i,{rounded:"lg"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(this.ongoingProjects.length,(e=>((0,a.wg)(),(0,a.j4)(p.l,{key:e,link:"",onClick:t=>{this.selectedProject=this.ongoingProjects[e-1],this.addPage=!1,this.projectPage=!0,W.getProjectSongs(),W.fetchLogs()}},{default:(0,a.w5)((()=>[(0,a.Wm)(g.V,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(this.ongoingProjects[e-1].name),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1}),(0,a.Wm)(be.CX,{rounded:"lg",class:"mt-4"},{default:(0,a.w5)((()=>[(0,a.Wm)(u.E,null,{default:(0,a.w5)((()=>[(0,a.Wm)(D,{align:"center"},{default:(0,a.w5)((()=>[(0,a.Uk)(" Completed ")])),_:1})])),_:1}),(0,a.Wm)(f.i,{rounded:"lg"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(this.completedProjects.length,(e=>((0,a.wg)(),(0,a.j4)(p.l,{key:e,link:"",onClick:t=>{this.selectedProject=this.completedProjects[e-1],this.addPage=!1,this.projectPage=!0,W.getProjectSongs(),W.fetchLogs()}},{default:(0,a.w5)((()=>[(0,a.Wm)(g.V,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(this.completedProjects[e-1].name),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1}),(0,a.Wm)(m.o,{justify:"center"},{default:(0,a.w5)((()=>[(0,a.Wm)(r.T,{rounded:"",color:"white",onClick:t[0]||(t[0]=t=>e.projectDialog=!0),class:"mt-7"},{default:(0,a.w5)((()=>[(0,a.Wm)(h.t,{left:""},{default:(0,a.w5)((()=>[(0,a.Uk)("mdi-plus")])),_:1}),(0,a.Uk)(" Add Project ")])),_:1})])),_:1})])),_:1}),(0,a.Wm)(T.D,{class:"pt-16"},{default:(0,a.w5)((()=>[(0,a.Wm)(be.CX,{"min-height":"70vh",rounded:"lg"},{default:(0,a.w5)((()=>[(0,a.Wm)(d._,{color:e.albumColor[2],theme:"dark"},{default:(0,a.w5)((()=>[1==this.projectPage?((0,a.wg)(),(0,a.iD)("div",Ve,[(0,a._)("div",Se,[(0,a._)("div",null,[(0,a.Wm)(ge.Q,{class:"text-h6 font-weight-light mb-1 pt-3"},{default:(0,a.w5)((()=>[(0,a.Uk)("Album")])),_:1}),(0,a.Wm)(u.E,{class:"text-h3 font-weight-bold mb-3",style:{"font-family":"'Helvetica Neue', sans-serif","line-height":"1"}},{default:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(this.selectedProject.name)+" ",1),this.userInfo.username===this.selectedProject.creator?((0,a.wg)(),(0,a.j4)(r.T,{key:0,class:"transparent",icon:"",onClick:t[1]||(t[1]=t=>e.addCollaboratorDialog=!0)},{default:(0,a.w5)((()=>[(0,a.Wm)(h.t,null,{default:(0,a.w5)((()=>[(0,a.Uk)("mdi-account-plus")])),_:1})])),_:1})):(0,a.kq)("",!0),(0,a.Wm)(ke.B,{theme:"light",modelValue:e.addCollaboratorDialog,"onUpdate:modelValue":t[5]||(t[5]=t=>e.addCollaboratorDialog=t),"max-width":"600"},{default:(0,a.w5)((()=>[(0,a.Wm)(d._,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u.E,{class:"headline"},{default:(0,a.w5)((()=>[(0,a.Uk)("Add Collaborator")])),_:1}),(0,a.Wm)(V.Z,null,{default:(0,a.w5)((()=>[(0,a.Wm)(x.O,{ref:"addCollaboratorForm",modelValue:e.valid,"onUpdate:modelValue":t[3]||(t[3]=t=>e.valid=t),"lazy-validation":""},{default:(0,a.w5)((()=>[(0,a.Wm)(A.hw,{modelValue:e.collaboratorEmail,"onUpdate:modelValue":t[2]||(t[2]=t=>e.collaboratorEmail=t),rules:e.emailRules,label:"Email",required:""},null,8,["modelValue","rules"])])),_:1},8,["modelValue"])])),_:1}),(0,a.Wm)(S.h,null,{default:(0,a.w5)((()=>[(0,a.Wm)(c.C),(0,a.Wm)(r.T,{color:"blue darken-1",text:"",onClick:t[4]||(t[4]=t=>e.addCollaboratorDialog=!1)},{default:(0,a.w5)((()=>[(0,a.Uk)("Close")])),_:1}),(0,a.Wm)(r.T,{color:"blue darken-1",text:"",onClick:W.submitCollaboratorEmail},{default:(0,a.w5)((()=>[(0,a.Uk)("Add")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),e.$store.state.isAuthenticated?((0,a.wg)(),(0,a.j4)(k.T,{key:1,"offset-y":"",theme:"light"},{activator:(0,a.w5)((({props:e})=>[(0,a.Wm)(r.T,(0,a.dG)({icon:""},e,{class:"transparent"}),{default:(0,a.w5)((()=>[(0,a.Wm)(h.t,null,{default:(0,a.w5)((()=>[(0,a.Uk)("mdi-dots-vertical")])),_:1})])),_:2},1040)])),default:(0,a.w5)((()=>[(0,a.Wm)(d._,null,{default:(0,a.w5)((()=>[(0,a.Wm)(f.i,null,{default:(0,a.w5)((()=>[this.userInfo.username===this.selectedProject.creator?((0,a.wg)(),(0,a.j4)(p.l,{key:0,onClick:t[6]||(t[6]=t=>e.editDialog=!0)},{default:(0,a.w5)((()=>[(0,a.Wm)(g.V,null,{default:(0,a.w5)((()=>[(0,a.Uk)("Edit")])),_:1})])),_:1})):(0,a.kq)("",!0),this.userInfo.username===this.selectedProject.creator&&!1===this.selectedProject.completed?((0,a.wg)(),(0,a.j4)(p.l,{key:1,onClick:t[7]||(t[7]=e=>W.markComplete(this.selectedProject.name))},{default:(0,a.w5)((()=>[(0,a.Wm)(g.V,null,{default:(0,a.w5)((()=>[(0,a.Uk)("Mark as complete")])),_:1})])),_:1})):(0,a.kq)("",!0),this.userInfo.username===this.selectedProject.creator&&!0===this.selectedProject.completed?((0,a.wg)(),(0,a.j4)(p.l,{key:2,onClick:t[8]||(t[8]=e=>W.markComplete(this.selectedProject.name))},{default:(0,a.w5)((()=>[(0,a.Wm)(g.V,null,{default:(0,a.w5)((()=>[(0,a.Uk)("Mark as incomplete")])),_:1})])),_:1})):(0,a.kq)("",!0),this.userInfo.username===this.selectedProject.creator?((0,a.wg)(),(0,a.j4)(p.l,{key:3,onClick:t[9]||(t[9]=e=>W.deleteProject(this.selectedProject.name))},{default:(0,a.w5)((()=>[(0,a.Wm)(g.V,null,{default:(0,a.w5)((()=>[(0,a.Uk)("Delete")])),_:1})])),_:1})):(0,a.kq)("",!0),this.userInfo.username!==this.selectedProject.creator?((0,a.wg)(),(0,a.j4)(p.l,{key:4,onClick:t[10]||(t[10]=e=>W.leaveProject(this.selectedProject.name,this.userInfo.username))},{default:(0,a.w5)((()=>[(0,a.Wm)(g.V,null,{default:(0,a.w5)((()=>[(0,a.Uk)("Leave Project")])),_:1})])),_:1})):(0,a.kq)("",!0)])),_:1})])),_:1})])),_:1})):(0,a.kq)("",!0)])),_:1}),(0,a.Wm)(ke.B,{modelValue:e.editDialog,"onUpdate:modelValue":t[17]||(t[17]=t=>e.editDialog=t),"max-width":"600px"},{default:(0,a.w5)((()=>[(0,a.Wm)(d._,{theme:"light"},{default:(0,a.w5)((()=>[(0,a._)("img",{src:"http://192.168.0.93:8000/"+this.selectedProject.coverart,class:"coverImage"},null,8,xe),(0,a.Wm)(u.E,null,{default:(0,a.w5)((()=>[Te])),_:1}),(0,a.Wm)(V.Z,null,{default:(0,a.w5)((()=>[(0,a.Wm)(ee.K,null,{default:(0,a.w5)((()=>[(0,a.Wm)(m.o,null,{default:(0,a.w5)((()=>[(0,a.Wm)(T.D,{cols:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(_e.Z,{rules:e.rules,modelValue:e.image,"onUpdate:modelValue":t[11]||(t[11]=t=>e.image=t),accept:"image/png, image/jpeg, image/bmp",placeholder:"Choose your cover art",label:"Cover art",onChange:t[12]||(t[12]=e=>W.onFileInput(e)),required:""},null,8,["rules","modelValue"])])),_:1}),(0,a.Wm)(T.D,{cols:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(A.hw,{modelValue:this.selectedProject.name,"onUpdate:modelValue":t[13]||(t[13]=e=>this.selectedProject.name=e),counter:10,label:"Project Name",placeholder:"Enter project name"},null,8,["modelValue"])])),_:1}),(0,a.Wm)(T.D,{cols:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(De.r,{modelValue:this.selectedProject.DAW,"onUpdate:modelValue":t[14]||(t[14]=e=>this.selectedProject.DAW=e),items:e.items,rules:[e=>!!e||"Item is required"],label:"DAW",placeholder:"Select DAW"},null,8,["modelValue","items","rules"])])),_:1}),(0,a.Wm)(T.D,{cols:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(b,{modelValue:this.selectedProject.deadline,"onUpdate:modelValue":t[15]||(t[15]=e=>this.selectedProject.deadline=e),placeholder:"Select deadline"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.Wm)(S.h,null,{default:(0,a.w5)((()=>[(0,a.Wm)(c.C),(0,a.Wm)(r.T,{color:"blue darken-1",text:"",onClick:t[16]||(t[16]=t=>e.editDialog=!1)},{default:(0,a.w5)((()=>[(0,a.Uk)("Cancel")])),_:1}),(0,a.Wm)(r.T,{color:"blue darken-1",text:"",onClick:W.editsubmitForm},{default:(0,a.w5)((()=>[(0,a.Uk)("Submit")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)(ge.Q,{class:"mb-3",style:{"text-transform":"capitalize"}},{default:(0,a.w5)((()=>[(0,a.Uk)(" Collaborators: "),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(this.selectedProject.Collaborators,((e,t)=>((0,a.wg)(),(0,a.iD)("span",{key:t},(0,s.zw)(e)+(0,s.zw)(t<this.selectedProject.Collaborators.length-1?", ":""),1)))),128))])),_:1}),(0,a.Wm)(we.v,{class:"ma-2",color:e.albumColor[10],"text-color":"white"},{default:(0,a.w5)((()=>[(0,a.Wm)(h.t,{color:"white"},{default:(0,a.w5)((()=>[(0,a.Uk)("mdi-check")])),_:1}),(0,a.Uk)(" Completed: "+(0,s.zw)(this.selectedProject.completed),1)])),_:1},8,["color"]),(0,a.Wm)(we.v,{class:"ma-2",color:e.albumColor[10],"text-color":"white"},{default:(0,a.w5)((()=>[(0,a.Wm)(h.t,{left:""},{default:(0,a.w5)((()=>[(0,a.Uk)("mdi-calendar")])),_:1}),(0,a.Uk)(" Deadline: "+(0,s.zw)(W.formatDate(this.selectedProject.deadline).slice(0,10)),1)])),_:1},8,["color"]),(0,a.Wm)(we.v,{class:"ma-2",color:e.albumColor[10],"text-color":"white"},{default:(0,a.w5)((()=>[(0,a.Wm)(h.t,{class:"mr-1"},{default:(0,a.w5)((()=>[(0,a.Uk)("mdi-calendar-clock")])),_:1}),(0,a.Uk)(" Created: "+(0,s.zw)(W.formatDate(e.selectedProject.created_at)),1)])),_:1},8,["color"]),(0,a.Wm)(we.v,{class:"ma-2",color:e.albumColor[10],"text-color":"white"},{default:(0,a.w5)((()=>[(0,a.Wm)(h.t,{small:"",class:"mr-1"},{default:(0,a.w5)((()=>[(0,a.Uk)("mdi-calendar-edit")])),_:1}),(0,a.Uk)(" Updated: "+(0,s.zw)(W.formatDate(e.selectedProject.updated_at)),1)])),_:1},8,["color"]),(0,a.Wm)(we.v,{class:"ma-2",color:e.albumColor[10],"text-color":"white"},{default:(0,a.w5)((()=>[(0,a.Wm)(h.t,{left:""},{default:(0,a.w5)((()=>[(0,a.Uk)("mdi-monitor")])),_:1}),(0,a.Uk)(" DAW: "+(0,s.zw)(this.selectedProject.DAW),1)])),_:1},8,["color"])]),(0,a.Wm)(d._,{class:"pa-0",elevation:"2",style:{width:"200px",height:"200px",overflow:"hidden",display:"flex","justify-content":"center","align-items":"center"}},{default:(0,a.w5)((()=>[(0,a.Wm)(We.f,{src:"http://192.168.0.93:8000/"+this.selectedProject.coverart,style:{"object-fit":"cover",width:"100%",height:"100%"}},null,8,["src"])])),_:1})])])):(0,a.kq)("",!0)])),_:1},8,["color"]),(0,a._)("div",Fe,[1==this.projectPage?((0,a.wg)(),(0,a.j4)(T.D,{key:0,cols:"12",sm:"6",md:"4"},{default:(0,a.w5)((()=>[(0,a._)("div",null,[(0,a.Wm)(ke.B,{modelValue:e.dialog,"onUpdate:modelValue":t[21]||(t[21]=t=>e.dialog=t),"max-width":"600px"},{default:(0,a.w5)((()=>[(0,a.Wm)(d._,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u.E,null,{default:(0,a.w5)((()=>[Ae])),_:1}),(0,a.Wm)(V.Z,null,{default:(0,a.w5)((()=>[(0,a.Wm)(ee.K,null,{default:(0,a.w5)((()=>[(0,a.Wm)(m.o,null,{default:(0,a.w5)((()=>[(0,a.Wm)(T.D,{cols:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(A.hw,{label:"Title",modelValue:e.song.title,"onUpdate:modelValue":t[18]||(t[18]=t=>e.song.title=t)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(T.D,{cols:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(ve.z,{label:"Description",modelValue:e.song.description,"onUpdate:modelValue":t[19]||(t[19]=t=>e.song.description=t)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(T.D,{cols:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(_e.Z,{label:"Upload audio file",onChange:W.onFileSelected,accept:"audio/*"},null,8,["onChange"])])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.Wm)(S.h,null,{default:(0,a.w5)((()=>[(0,a.Wm)(c.C),(0,a.Wm)(r.T,{color:"blue darken-1",text:"",onClick:t[20]||(t[20]=t=>e.dialog=!1)},{default:(0,a.w5)((()=>[(0,a.Uk)("Cancel")])),_:1}),(0,a.Wm)(r.T,{color:"blue darken-1",text:"",onClick:W.submitSongForm},{default:(0,a.w5)((()=>[(0,a.Uk)("Submit")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])])),_:1})):(0,a.kq)("",!0)]),1==this.projectPage?((0,a.wg)(),(0,a.iD)("div",Ze,[(0,a.Wm)(ee.K,{class:"mt-5"},{default:(0,a.w5)((()=>[(0,a.Wm)(m.o,null,{default:(0,a.w5)((()=>[(0,a.Wm)(T.D,{md:"8"},{default:(0,a.w5)((()=>[(0,a.Wm)(d._,{rounded:""},{default:(0,a.w5)((()=>[(0,a.Wm)(V.Z,null,{default:(0,a.w5)((()=>[(0,a.Wm)(je.Y,null,{default:(0,a.w5)((()=>[Ie,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(this.selectedProjectSongs.Projects,(l=>((0,a.wg)(),(0,a.iD)("tr",{key:l.name,class:(0,s.C_)({"table-row-hover":!0}),onClick:e=>W.onRowClick(l)},[(0,a._)("td",ze,(0,s.zw)(l.name),1),(0,a._)("td",qe,(0,s.zw)(l.completed),1),(0,a._)("td",null,(0,s.zw)(W.formatDate(l.created_at)),1),(0,a._)("td",null,(0,s.zw)(W.formatDate(l.updated_at)),1),(0,a._)("td",Ne,[(0,a.Wm)(ke.B,{modelValue:e.confirmDelete,"onUpdate:modelValue":t[23]||(t[23]=t=>e.confirmDelete=t),"max-width":"500px"},{default:(0,a.w5)((()=>[(0,a.Wm)(d._,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u.E,null,{default:(0,a.w5)((()=>[(0,a.Uk)(" Confirm Delete ")])),_:1}),(0,a.Wm)(V.Z,null,{default:(0,a.w5)((()=>[(0,a.Uk)(" Are you sure you want to delete this song? ")])),_:1}),(0,a.Wm)(S.h,null,{default:(0,a.w5)((()=>[(0,a.Wm)(r.T,{text:"",onClick:t[22]||(t[22]=t=>e.confirmDelete=!1)},{default:(0,a.w5)((()=>[(0,a.Uk)(" Cancel ")])),_:1}),(0,a.Wm)(r.T,{color:"error",onClick:t=>{W.deleteItem(l.name),e.confirmDelete=!1}},{default:(0,a.w5)((()=>[(0,a.Uk)(" Delete ")])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1032,["modelValue"]),this.userInfo.username===this.selectedProject.creator?((0,a.wg)(),(0,a.j4)(h.t,{key:0,onClick:t[24]||(t[24]=(0,o.iM)((t=>e.confirmDelete=!0),["stop"]))},{default:(0,a.w5)((()=>[(0,a.Uk)("mdi-delete")])),_:1})):(0,a.kq)("",!0)])],8,$e)))),128))])])),_:1})])),_:1}),(0,a._)("div",Ee,[this.userInfo.username===this.selectedProject.creator?((0,a.wg)(),(0,a.j4)(r.T,{key:0,rounded:"",color:e.white,onClick:t[25]||(t[25]=t=>e.dialog=!0)},{default:(0,a.w5)((()=>[(0,a.Wm)(h.t,{left:""},{default:(0,a.w5)((()=>[(0,a.Uk)("mdi-plus")])),_:1}),(0,a.Uk)(" Add Song ")])),_:1},8,["color"])):(0,a.kq)("",!0)])])),_:1})])),_:1}),(0,a.Wm)(T.D,{md:"4"},{default:(0,a.w5)((()=>[(0,a.Wm)(d._,null,{default:(0,a.w5)((()=>[(0,a.Wm)(ye.d,{modelValue:e.tab,"onUpdate:modelValue":t[26]||(t[26]=t=>e.tab=t),color:this.albumColor[2],class:"mt-3 centered-tab-buttons",grow:""},{default:(0,a.w5)((()=>[(0,a.Wm)(Ce.L,{value:"one"},{default:(0,a.w5)((()=>[(0,a.Uk)("Tasks")])),_:1}),(0,a.Wm)(Ce.L,{value:"two"},{default:(0,a.w5)((()=>[(0,a.Uk)("Messages")])),_:1}),(0,a.Wm)(Ce.L,{value:"three"},{default:(0,a.w5)((()=>[(0,a.Uk)("Logs")])),_:1})])),_:1},8,["modelValue","color"]),(0,a.Wm)(V.Z,null,{default:(0,a.w5)((()=>[(0,a.Wm)(Ue.Oo,{modelValue:e.tab,"onUpdate:modelValue":t[36]||(t[36]=t=>e.tab=t)},{default:(0,a.w5)((()=>[(0,a.Wm)(Pe.H,{value:"one"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(this?.tasks,((t,l)=>((0,a.wg)(),(0,a.j4)(d._,{key:l,width:"341",title:t.title,subtitle:t.song,text:t.description,style:{}},{default:(0,a.w5)((()=>[(0,a.Wm)(S.h,null,{default:(0,a.w5)((()=>[!1===t.completed?((0,a.wg)(),(0,a.j4)(r.T,{key:0,rounded:"",color:e.white,onClick:l=>{e.finishTaskDialog=!0,e.selectedTask=t}},{default:(0,a.w5)((()=>[(0,a.Wm)(h.t,{left:""},{default:(0,a.w5)((()=>[(0,a.Uk)("mdi-check")])),_:1}),(0,a.Uk)(" Mark as complete ")])),_:2},1032,["color","onClick"])):(0,a.kq)("",!0),!0===t.completed?((0,a.wg)(),(0,a.j4)(r.T,{key:1,rounded:"",color:e.white},{default:(0,a.w5)((()=>[(0,a.Wm)(h.t,{left:""},{default:(0,a.w5)((()=>[(0,a.Uk)("mdi-check")])),_:1}),(0,a.Uk)(" Completed ")])),_:1},8,["color"])):(0,a.kq)("",!0)])),_:2},1024)])),_:2},1032,["title","subtitle","text"])))),128)),(0,a.Wm)(ke.B,{modelValue:e.finishTaskDialog,"onUpdate:modelValue":t[32]||(t[32]=t=>e.finishTaskDialog=t),"max-width":"600px"},{default:(0,a.w5)((()=>[(0,a.Wm)(d._,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u.E,null,{default:(0,a.w5)((()=>[Le])),_:1}),(0,a.Wm)(V.Z,null,{default:(0,a.w5)((()=>[(0,a.Wm)(ee.K,null,{default:(0,a.w5)((()=>[(0,a.Wm)(m.o,null,{default:(0,a.w5)((()=>[(0,a.Wm)(T.D,{cols:"12"},{default:(0,a.w5)((()=>["DAW Files"!==this.typeSelect?((0,a.wg)(),(0,a.j4)(_e.Z,{key:0,label:"Upload file(s)",onChange:W.onFileSelected,multiple:""},null,8,["onChange"])):(0,a.kq)("",!0),"DAW Files"===this.typeSelect?((0,a.wg)(),(0,a.j4)(_e.Z,{key:1,label:"Upload DAW files",onChange:W.ZipFiles,multiple:""},null,8,["onChange"])):(0,a.kq)("",!0)])),_:1}),(0,a.Wm)(T.D,{cols:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(ve.z,{modelValue:e.taskDescription,"onUpdate:modelValue":t[27]||(t[27]=t=>e.taskDescription=t),counter:100,label:"Description",required:""},null,8,["modelValue"])])),_:1}),(0,a.Wm)(T.D,{cols:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(De.r,{modelValue:e.typeSelect,"onUpdate:modelValue":t[28]||(t[28]=t=>e.typeSelect=t),onClick:t[29]||(t[29]=t=>e.console.log(this.typeSelect)),items:this.finishSelect,rules:[e=>!!e||"Item is required"],label:"File type:",required:""},null,8,["modelValue","items","rules"])])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.Wm)(S.h,null,{default:(0,a.w5)((()=>[(0,a.Wm)(c.C),(0,a.Wm)(r.T,{color:"blue darken-1",text:"",onClick:t[30]||(t[30]=t=>e.finishTaskDialog=!1)},{default:(0,a.w5)((()=>[(0,a.Uk)("Cancel")])),_:1}),(0,a.Wm)(r.T,{color:"blue darken-1",text:"",onClick:t[31]||(t[31]=e=>W.finishTaskSubmitForm())},{default:(0,a.w5)((()=>[(0,a.Uk)("Submit")])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a._)("div",Me,[this.userInfo.username===this.selectedProject.creator?((0,a.wg)(),(0,a.j4)(r.T,{key:0,rounded:"",color:e.white,onClick:t[33]||(t[33]=t=>e.taskDialog=!0)},{default:(0,a.w5)((()=>[(0,a.Wm)(h.t,{left:""},{default:(0,a.w5)((()=>[(0,a.Uk)("mdi-plus")])),_:1}),(0,a.Uk)(" Add Task ")])),_:1},8,["color"])):(0,a.kq)("",!0)])])),_:1}),(0,a.Wm)(Pe.H,{value:"two"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.messages,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e.timestamp},[Re,(0,a._)("span",Oe,(0,s.zw)(e.user)+":",1),(0,a._)("span",He,(0,s.zw)(e.content),1)])))),128)),(0,a._)("div",Ke,[(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":t[34]||(t[34]=t=>e.newMessage=t),placeholder:"Type a message..."},null,512),[[o.nr,e.newMessage]]),(0,a._)("button",{onClick:t[35]||(t[35]=(...e)=>W.sendMessage&&W.sendMessage(...e))},"Send")])])),_:1}),(0,a.Wm)(Pe.H,{value:"three"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.logs,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e.timestamp},[(0,a._)("span",Ye,(0,s.zw)(e.user)+":",1),(0,a._)("span",Be,(0,s.zw)(e.action),1),(0,a._)("span",Xe,(0,s.zw)(e.model_name),1),(0,a._)("span",Ge,"at "+(0,s.zw)(new Date(e.timestamp).toLocaleString()),1)])))),128))])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])):(0,a.kq)("",!0),(0,a._)("div",null,[(0,a.Wm)(ke.B,{modelValue:e.taskDialog,"onUpdate:modelValue":t[43]||(t[43]=t=>e.taskDialog=t),"max-width":"600px"},{default:(0,a.w5)((()=>[(0,a.Wm)(d._,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u.E,null,{default:(0,a.w5)((()=>[Qe])),_:1}),(0,a.Wm)(V.Z,null,{default:(0,a.w5)((()=>[(0,a.Wm)(ee.K,null,{default:(0,a.w5)((()=>[(0,a.Wm)(m.o,null,{default:(0,a.w5)((()=>[(0,a.Wm)(T.D,{cols:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(A.hw,{modelValue:e.taskTitle,"onUpdate:modelValue":t[37]||(t[37]=t=>e.taskTitle=t),counter:50,label:"Title",required:""},null,8,["modelValue"])])),_:1}),(0,a.Wm)(T.D,{cols:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(ve.z,{modelValue:e.taskDescription,"onUpdate:modelValue":t[38]||(t[38]=t=>e.taskDescription=t),counter:100,label:"Description",required:""},null,8,["modelValue"])])),_:1}),(0,a.Wm)(T.D,{cols:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(De.r,{modelValue:e.taskSongSelect,"onUpdate:modelValue":t[39]||(t[39]=t=>e.taskSongSelect=t),items:this.songNames,rules:[e=>!!e||"Item is required"],label:"Song:",required:""},null,8,["modelValue","items","rules"])])),_:1}),(0,a.Wm)(T.D,{cols:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(De.r,{modelValue:e.taskUserSelect,"onUpdate:modelValue":t[40]||(t[40]=t=>e.taskUserSelect=t),items:this.selectedProject.Collaborators,rules:[e=>!!e||"Item is required"],label:"Assign to:",required:""},null,8,["modelValue","items","rules"])])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.Wm)(S.h,null,{default:(0,a.w5)((()=>[(0,a.Wm)(c.C),(0,a.Wm)(r.T,{color:"blue darken-1",text:"",onClick:t[41]||(t[41]=t=>e.taskDialog=!1)},{default:(0,a.w5)((()=>[(0,a.Uk)("Cancel")])),_:1}),(0,a.Wm)(r.T,{color:"blue darken-1",text:"",onClick:t[42]||(t[42]=e=>W.taskSubmitForm())},{default:(0,a.w5)((()=>[(0,a.Uk)("Submit")])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)(ke.B,{modelValue:e.projectDialog,"onUpdate:modelValue":t[51]||(t[51]=t=>e.projectDialog=t),"max-width":"600px"},{default:(0,a.w5)((()=>[(0,a.Wm)(d._,null,{default:(0,a.w5)((()=>[(0,a._)("img",{src:this.imagePath,class:"coverImage"},null,8,Je),(0,a.Wm)(u.E,null,{default:(0,a.w5)((()=>[et])),_:1}),(0,a.Wm)(V.Z,null,{default:(0,a.w5)((()=>[(0,a.Wm)(ee.K,null,{default:(0,a.w5)((()=>[(0,a.Wm)(m.o,null,{default:(0,a.w5)((()=>[(0,a.Wm)(T.D,{cols:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(_e.Z,{rules:e.rules,modelValue:e.image,"onUpdate:modelValue":t[44]||(t[44]=t=>e.image=t),accept:"image/png, image/jpeg, image/bmp",placeholder:"Choose your cover art",label:"Cover art",onChange:t[45]||(t[45]=e=>W.onFileInput(e)),required:""},null,8,["rules","modelValue"])])),_:1}),(0,a.Wm)(T.D,{cols:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(A.hw,{modelValue:e.projectName,"onUpdate:modelValue":t[46]||(t[46]=t=>e.projectName=t),counter:10,label:"Project Name",required:""},null,8,["modelValue"])])),_:1}),(0,a.Wm)(T.D,{cols:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(De.r,{modelValue:e.select,"onUpdate:modelValue":t[47]||(t[47]=t=>e.select=t),items:e.items,rules:[e=>!!e||"Item is required"],label:"DAW",required:""},null,8,["modelValue","items","rules"])])),_:1}),(0,a.Wm)(T.D,{cols:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(A.hw,{modelValue:e.collabEmail,"onUpdate:modelValue":t[48]||(t[48]=t=>e.collabEmail=t),type:"text",label:"collaborators (separate multiple emails with a comma)",onBlur:W.parseEmails},null,8,["modelValue","onBlur"])])),_:1}),(0,a.Wm)(T.D,{cols:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(b,{modelValue:e.selectedDate,"onUpdate:modelValue":t[49]||(t[49]=t=>e.selectedDate=t),placeholder:"Deadline"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.Wm)(S.h,null,{default:(0,a.w5)((()=>[(0,a.Wm)(c.C),(0,a.Wm)(r.T,{color:"blue darken-1",text:"",onClick:t[50]||(t[50]=t=>e.projectDialog=!1)},{default:(0,a.w5)((()=>[(0,a.Uk)("Cancel")])),_:1}),(0,a.Wm)(r.T,{color:"blue darken-1",text:"",onClick:W.projectSubmitForm},{default:(0,a.w5)((()=>[(0,a.Uk)("Submit")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}var lt=l(6419),ot=l(6725),at=l(4730),st=l.n(at),it={components:{VueDatePicker:ot.Z},beforeCreate(){this.projectPage=!0,console.log(this.current_page),this.$store.commit("initializeStore");const e=this.$store.state.token;console.log(this.$store.state.isAuthenticated),e?b.Z.defaults.headers.common.Authorization="Token "+e:(b.Z.defaults.headers.common.Authorization="",this.$router.push("/login")),b.Z.get("/api/v1/users/me/",e).then((e=>{this.userInfo=e.data,console.log(this.userInfo),this.getProjects()})).catch((e=>{console.log(e)}))},data:()=>({userInfo:"",projectInfo:"",selectedProject:"",selectedProjectSongs:"",projectLength:0,dialog:!1,projectDialog:!1,editDialog:!1,song:{title:"",description:"",audioFile:null},selectedDate:null,addPage:!1,projectPage:!1,links:["My Projects","Messages","Profile","Updates"],select:"",collabEmail:"",emailList:[],projectName:"",items:["FL Studio","Ableton Live","Logic Pro","Reason","Avid Pro Tools"],finishSelect:["DAW Files","Music File","Stems"],image:null,imagePath:"",confirmDelete:!1,albumColor:"",completedProjects:[],ongoingProjects:[],confirmDelete:!1,infoDialog:!1,selectedItem:{},tab:null,finishTaskDialog:!1,taskDialog:!1,taskTitle:"",taskDescription:"",taskUserSelect:"",taskSongSelect:"",songNames:[],tasks:null,typeSelect:"",selectedTask:null,zippedFile:null,messages:[],newMessage:"",logs:[],addCollaboratorDialog:!1,collaboratorEmail:"",valid:!1,emailRules:[e=>!!e||"E-mail is required",e=>/.+@.+\..+/.test(e)||"E-mail must be valid"]}),methods:{onRowClick(e){this.selectedItem=e,this.$router.push({name:"SongView",params:{songName:e.name,projectName:this.selectedProject.name}})},formatDate(e){const t=new Date(e),l=t.getFullYear(),o=(t.getMonth()+1).toString().padStart(2,"0"),a=t.getDate().toString().padStart(2,"0"),s=t.getHours().toString().padStart(2,"0"),i=t.getMinutes().toString().padStart(2,"0");return`${a}-${o}-${l} ${s}:${i}`},getProjects(){b.Z.get("/getProjects/"+this.userInfo.username+"/").then((e=>{this.projectInfo=e.data,this.projectLength=this.projectInfo.Projects.length,this.projectInfo&&this.projectInfo.Projects&&this.projectInfo.Projects.length>0&&(this.projectPage=!0,this.selectedProject=this.projectInfo.Projects[0]),this.filterProjects(!0),this.filterProjects(!1),this.getProjectSongs(),this.fetchLogs()})).catch((e=>{console.log(e)}))},getProjectSongs(){b.Z.get("/getProjectSongs/"+this.selectedProject.name+"/").then((e=>{this.getDominantColor(),this.selectedProjectSongs=e.data,this.songNames=[];for(let t=0;t<this.selectedProjectSongs.Projects.length;t++)this.songNames.push(this.selectedProjectSongs.Projects[t].name);this.getTasks(),this.fetchMessages(),console.log(this.tasks)})).catch((e=>{console.log(e)}))},projectSubmitForm(){const e=new FormData;e.append("image",this.image[0]),e.append("name",this.projectName),e.append("deadline",this.selectedDate),e.append("collabEmail",this.emailList),e.append("DAW",this.select),console.log(this.emailList),b.Z.post("/getProjects/"+this.userInfo.username+"/",e).then((e=>{console.log(e),this.getProjects(),this.image=null})).catch((e=>{console.log(e)})),this.projectDialog=!1},onFileInput(e){const t=URL.createObjectURL(e.target.files[0]);console.log(this.image[0]),this.imagePath=t},onFileSelected(e){this.song.audioFile=e.target.files[0]},submitSongForm(){console.log(this.song);const e=new FormData;e.append("file",this.song.audioFile),e.append("name",this.song.title),e.append("description",this.song.description),e.append("username",this.userInfo.username),console.log(e),b.Z.post("/getProjectSongs/"+this.selectedProject.name+"/",e).then((e=>{console.log(e),this.getProjectSongs(),this.fetchLogs()})).catch((e=>{console.log(e)})),this.dialog=!1},taskSubmitForm(){console.log(this.song);const e=new FormData;e.append("songName",this.taskSongSelect),e.append("title",this.taskTitle),e.append("description",this.taskDescription),e.append("username",this.userInfo.username),e.append("workerUsername",this.taskUserSelect),console.log(e),b.Z.post("/getTasks/"+this.selectedProject.name+"/",e).then((e=>{console.log(e),this.getTasks(),this.fetchLogs()})).catch((e=>{console.log(e)})),this.taskDialog=!1},finishTaskSubmitForm(){const e=new FormData;e.append("description",this.taskDescription),"Music File"===this.typeSelect&&(e.append("file",this.song.audioFile),e.append("username",this.userInfo.username),b.Z.post("/getVersions/"+this.selectedTask.song+"/"+this.selectedProject.name+"/",e).then((e=>{console.log(e)})).catch((e=>{console.log(e)}))),"Stems"===this.typeSelect&&(e.append("file",this.song.audioFile),e.append("username",this.userInfo.username),b.Z.post("/getStems/"+this.selectedTask.song+"/"+this.selectedProject.name+"/",e).then((e=>{console.log(e)})).catch((e=>{console.log(e)}))),"DAW Files"===this.typeSelect&&(e.append("file",this.zippedFile),e.append("username",this.userInfo.username),b.Z.post("/getDAWFiles/"+this.selectedTask.song+"/"+this.selectedProject.name+"/",e).then((e=>{console.log(e)})).catch((e=>{console.log(e)}))),b.Z.post("/finishTask/"+this.selectedTask.id+"/").then((e=>{console.log(e),this.getTasks(),this.fetchLogs()})).catch((e=>{console.log(e)})),this.finishTaskDialog=!1},getTasks(){b.Z.get("/getTasks/"+this.selectedProject.name+"/").then((e=>{this.tasks=e.data,this.tasks=this.filteredTasks(),console.log(this.tasks)})).catch((e=>{console.log(e)}))},deleteItem(e){b.Z.defaults.xsrfHeaderName="X-CSRFToken",b.Z.defaults.xsrfCookieName="csrftoken",b.Z["delete"](`/deleteSong/${e}/`,{withCredentials:!0}).then((t=>{console.log(`Item with ID ${e} deleted successfully!`),this.getProjectSongs(),this.fetchLogs()})).catch((t=>{console.log(`Error deleting item with ID ${e}: ${t.message}`)}))},deleteProject(e){b.Z.defaults.xsrfHeaderName="X-CSRFToken",b.Z.defaults.xsrfCookieName="csrftoken",b.Z["delete"](`/deleteProject/${e}/`,{withCredentials:!0}).then((t=>{console.log(`Item with ID ${e} deleted successfully!`),this.getProjects(),this.fetchLogs()})).catch((t=>{console.log(`Error deleting item with ID ${e}: ${t.message}`)}))},leaveProject(e,t){b.Z.defaults.xsrfHeaderName="X-CSRFToken",b.Z.defaults.xsrfCookieName="csrftoken",b.Z["delete"](`/leaveProject/${e}/${t}/`,{withCredentials:!0}).then((t=>{console.log(`Item with ID ${e} deleted successfully!`),this.getProjects(),this.fetchLogs()})).catch((t=>{console.log(`Error deleting item with ID ${e}: ${t.message}`)}))},markComplete(e){const t=new FormData;b.Z.defaults.xsrfHeaderName="X-CSRFToken",b.Z.defaults.xsrfCookieName="csrftoken",t.append("username",this.userInfo.username),b.Z.post(`/markComplete/${e}/`,t,{withCredentials:!0}).then((t=>{console.log(`Item with ID ${e} is complete!`),this.getProjects(),this.fetchLogs()})).catch((t=>{console.log(`Error deleting item with ID ${e}: ${t.message}`)}))},editsubmitForm(){const e=new FormData;e.append("name",this.selectedProject.name),e.append("deadline",this.formatDate(this.selectedProject.deadline)),e.append("DAW",this.selectedProject.DAW),this.image&&this.image.length>0&&(console.log(this.image[0]),e.append("image",this.image[0])),b.Z.post("/editProject/"+this.selectedProject.id+"/",e,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{console.log(e),this.getProjects(),this.fetchLogs()})).catch((e=>{console.log(e),console.log(payload.deadline)})),this.editDialog=!1},async getDominantColor(){const e=new Image;e.crossOrigin="Anonymous",e.src=`${b.Z.defaults.baseURL}/${this.selectedProject.coverart}`,e.onload=async()=>{const t=new lt.Z,l=t.getPalette(e,10),o=l.map((e=>`rgb(${e[0]}, ${e[1]}, ${e[2]})`));this.albumColor=o,console.log("The colors for the album are:",this.albumColors)}},parseEmails(){const e=this.collabEmail.split(/[,;]/).map((e=>e.trim()));this.emailList=e.filter((e=>/\S+@\S+\.\S+/.test(e))),this.emailList=emailList.split(","),this.emailList.map((e=>e.trim()))},filterProjects(e){e?this.completedProjects=this.projectInfo.Projects.filter((e=>e.completed)):this.ongoingProjects=this.projectInfo.Projects.filter((e=>!e.completed))},filteredTasks(){return this.tasks?.Projects.filter((e=>e.worker===this.userInfo.username))},async ZipFiles(e){const t=e.target.files,l=new(st());for(let a=0;a<t.length;a++)l.file(t[a].name,t[a]);const o=await l.generateAsync({type:"blob"});this.zippedFile=new File([o],this.selectedTask.song+".zip",{type:"application/zip"}),console.log("Zipped file:",this.zippedFile)},async fetchMessages(){try{const e=await b.Z.get("/messages/"+this.selectedProject.id+"/");this.messages=e.data.messages}catch(e){console.error("Error fetching messages:",e)}},async sendMessage(){if(""!==this.newMessage.trim())try{const e=new FormData;e.append("content",this.newMessage),e.append("username",this.userInfo.username);await b.Z.post("/messages/"+this.selectedProject.id+"/",e);this.fetchMessages(),this.newMessage=""}catch(e){console.error("Error sending message:",e)}},async fetchLogs(){try{const e=await b.Z.get(`/project-logs/${this.selectedProject.id}/`);this.logs=e.data.logs}catch(e){console.error("Error fetching logs:",e)}},submitCollaboratorEmail(){if(this.$refs.addCollaboratorForm.validate()){const t=new FormData;t.append("email",this.collaboratorEmail);try{b.Z.post("/add_user_to_project/"+this.selectedProject.id+"/",t),this.getProjects(),this.addCollaboratorDialog=!1,this.collaboratorEmail=""}catch(e){console.error(e)}}}}};const nt=(0,y.Z)(it,[["render",tt]]);var rt=nt;const dt={key:0,class:"project_info"},ut={class:"d-flex flex-no-wrap justify-space-between"},ct=(0,a._)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"40px",height:"40px","border-radius":"50%","background-color":"white"}},null,-1),mt={ref:"waveform",class:"waveform"},ht={style:{display:"flex","flex-wrap":"wrap","justify-content":"space-around"}},ft=(0,a._)("div",{style:{"text-align":"center"}},[(0,a._)("span",{class:"headline"},"Finish Task")],-1),pt=(0,a._)("div",{style:{display:"flex","justify-content":"center","padding-bottom":"1px","padding-top":"20px"}},null,-1),gt=(0,a._)("span",{class:"mdi mdi-account-circle profile-icon"},null,-1),wt={class:"username"},kt={class:"message"},_t={class:"message-input"},Wt={class:"d-flex align-center flex-column"},Dt=(0,a._)("div",{style:{"text-align":"center"}},[(0,a._)("span",{class:"headline"},"Add Update")],-1),bt=(0,a._)("div",{style:{"text-align":"center"}},[(0,a._)("span",{class:"headline"},"Add DAW Files")],-1),jt={key:0},yt=(0,a._)("div",{style:{"text-align":"center"}},[(0,a._)("span",{class:"headline"},"Add Stems")],-1);function Ct(e,t,l,n,_,W){const D=(0,a.up)("v-subheader");return(0,a.wg)(),(0,a.j4)(i.q,{id:"inspire"},{default:(0,a.w5)((()=>[(0,a.Wm)(w.O,{class:"bg-grey-lighten-3",dark:""},{default:(0,a.w5)((()=>[(0,a.Wm)(ee.K,{fluid:"",class:"dashboard"},{default:(0,a.w5)((()=>[(0,a.Wm)(m.o,null,{default:(0,a.w5)((()=>[(0,a.Wm)(T.D,{cols:"2",class:"pt-16"},{default:(0,a.w5)((()=>[(0,a.Wm)(be.CX,{rounded:"lg"},{default:(0,a.w5)((()=>[(0,a.Wm)(u.E,null,{default:(0,a.w5)((()=>[(0,a.Wm)(D,{align:"center"},{default:(0,a.w5)((()=>[(0,a.Uk)(" Exports ")])),_:1})])),_:1}),(0,a.Wm)(f.i,{rounded:"lg"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(this.versions.length,(e=>((0,a.wg)(),(0,a.j4)(p.l,{key:e,link:"",onClick:t=>{W.loadAndPlayAudio("http://192.168.0.93:8000/"+this.versions[e-1].file),this.selectedVersion=this.versions[e-1]}},{default:(0,a.w5)((()=>[(0,a.Wm)(g.V,null,{default:(0,a.w5)((()=>[(0,a.Uk)(" Version "+(0,s.zw)(this.versions[e-1].id),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1}),(0,a.Wm)(m.o,{justify:"center"},{default:(0,a.w5)((()=>[(0,a.Wm)(r.T,{rounded:"",color:"white",onClick:t[0]||(t[0]=t=>e.versionDialog=!0),class:"mt-7"},{default:(0,a.w5)((()=>[(0,a.Wm)(h.t,{left:""},{default:(0,a.w5)((()=>[(0,a.Uk)("mdi-plus")])),_:1}),(0,a.Uk)(" Add update ")])),_:1})])),_:1}),(0,a.Wm)(be.CX,{rounded:"lg",class:"mt-7"},{default:(0,a.w5)((()=>[(0,a.Wm)(u.E,null,{default:(0,a.w5)((()=>[(0,a.Wm)(D,{align:"center"},{default:(0,a.w5)((()=>[(0,a.Uk)(" Stems ")])),_:1})])),_:1}),(0,a.Wm)(f.i,{rounded:"lg"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(this.stems.length,(e=>((0,a.wg)(),(0,a.j4)(p.l,{key:e,link:"",onClick:t=>W.loadAndPlayAudio("http://192.168.0.93:8000/"+this.stems[e-1].file)},{default:(0,a.w5)((()=>[(0,a.Wm)(g.V,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(this.stems[e-1].name),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1}),(0,a.Wm)(m.o,{justify:"center"},{default:(0,a.w5)((()=>[(0,a.Wm)(r.T,{rounded:"",color:"white",onClick:t[1]||(t[1]=t=>e.stemDialog=!0),class:"mt-7"},{default:(0,a.w5)((()=>[(0,a.Wm)(h.t,{left:""},{default:(0,a.w5)((()=>[(0,a.Uk)("mdi-plus")])),_:1}),(0,a.Uk)(" Add Stems ")])),_:1})])),_:1}),(0,a.Wm)(be.CX,{rounded:"lg",class:"mt-7"},{default:(0,a.w5)((()=>[(0,a.Wm)(u.E,null,{default:(0,a.w5)((()=>[(0,a.Wm)(D,{align:"center"},{default:(0,a.w5)((()=>[(0,a.Uk)(" DAW Files ")])),_:1})])),_:1}),(0,a.Wm)(f.i,{rounded:"lg"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(this.DAWFiles.length,(e=>((0,a.wg)(),(0,a.j4)(p.l,{key:e,link:"",onClick:t=>W.downloadFile("http://192.168.0.93:8000/"+this.DAWFiles[e-1].file)},{default:(0,a.w5)((()=>[(0,a.Wm)(g.V,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(this.DAWFiles[e-1].name),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1}),(0,a.Wm)(m.o,{justify:"center"},{default:(0,a.w5)((()=>[(0,a.Wm)(r.T,{rounded:"",color:"white",onClick:t[2]||(t[2]=t=>e.DAWDialog=!0),class:"mt-7"},{default:(0,a.w5)((()=>[(0,a.Wm)(h.t,{left:""},{default:(0,a.w5)((()=>[(0,a.Uk)("mdi-plus")])),_:1}),(0,a.Uk)(" Add DAW Files ")])),_:1})])),_:1})])),_:1}),(0,a.Wm)(T.D,{class:"pt-16"},{default:(0,a.w5)((()=>[(0,a.Wm)(be.CX,{"min-height":"70vh",rounded:"lg"},{default:(0,a.w5)((()=>[(0,a.Wm)(d._,{color:e.albumColor[0],theme:"dark"},{default:(0,a.w5)((()=>[1==this.projectPage?((0,a.wg)(),(0,a.iD)("div",dt,[(0,a._)("div",ut,[(0,a._)("div",null,[(0,a.Wm)(ge.Q,{class:"text-h6 font-weight-light mb-1 pt-3"},{default:(0,a.w5)((()=>[(0,a.Uk)("Song")])),_:1}),(0,a.Wm)(u.E,{class:"text-h3 font-weight-bold mb-3",style:{"font-family":"'Helvetica Neue', sans-serif","line-height":"1"}},{default:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(this.songName)+" ",1),e.$store.state.isAuthenticated?((0,a.wg)(),(0,a.j4)(k.T,{key:0,"offset-y":"",theme:"light"},{activator:(0,a.w5)((({props:e})=>[(0,a.Wm)(r.T,(0,a.dG)({icon:""},e,{class:"transparent"}),{default:(0,a.w5)((()=>[(0,a.Wm)(h.t,null,{default:(0,a.w5)((()=>[(0,a.Uk)("mdi-dots-vertical")])),_:1})])),_:2},1040)])),default:(0,a.w5)((()=>[(0,a.Wm)(d._,null,{default:(0,a.w5)((()=>[(0,a.Wm)(f.i,null,{default:(0,a.w5)((()=>[this.userInfo.username===this.selectedProject.creator?((0,a.wg)(),(0,a.j4)(p.l,{key:0,onClick:t[3]||(t[3]=t=>e.editDialog=!0)},{default:(0,a.w5)((()=>[(0,a.Wm)(g.V,null,{default:(0,a.w5)((()=>[(0,a.Uk)("Edit")])),_:1})])),_:1})):(0,a.kq)("",!0),this.userInfo.username===this.selectedProject.creator&&!1===this.selectedProject.completed?((0,a.wg)(),(0,a.j4)(p.l,{key:1,onClick:t[4]||(t[4]=e=>W.markComplete(this.selectedProject.name))},{default:(0,a.w5)((()=>[(0,a.Wm)(g.V,null,{default:(0,a.w5)((()=>[(0,a.Uk)("Mark as complete")])),_:1})])),_:1})):(0,a.kq)("",!0),this.userInfo.username===this.selectedProject.creator&&!0===this.selectedProject.completed?((0,a.wg)(),(0,a.j4)(p.l,{key:2,onClick:t[5]||(t[5]=e=>W.markComplete(this.selectedProject.name))},{default:(0,a.w5)((()=>[(0,a.Wm)(g.V,null,{default:(0,a.w5)((()=>[(0,a.Uk)("Mark as incomplete")])),_:1})])),_:1})):(0,a.kq)("",!0),this.userInfo.username===this.selectedProject.creator?((0,a.wg)(),(0,a.j4)(p.l,{key:3,onClick:t[6]||(t[6]=t=>e.deleteProject(this.selectedProject.name))},{default:(0,a.w5)((()=>[(0,a.Wm)(g.V,null,{default:(0,a.w5)((()=>[(0,a.Uk)("Delete")])),_:1})])),_:1})):(0,a.kq)("",!0)])),_:1})])),_:1})])),_:1})):(0,a.kq)("",!0)])),_:1}),(0,a.Wm)(ge.Q,{class:"mb-3",style:{"text-transform":"capitalize"}},{default:(0,a.w5)((()=>[(0,a.Uk)(" Description: "+(0,s.zw)(this.songData.description),1)])),_:1}),(0,a.Wm)(we.v,{class:"ma-2",color:e.albumColor[10],"text-color":"white"},{default:(0,a.w5)((()=>[(0,a.Wm)(h.t,{left:""},{default:(0,a.w5)((()=>[(0,a.Uk)("mdi-album")])),_:1}),(0,a.Uk)(" Album: "+(0,s.zw)(this.songData.project),1)])),_:1},8,["color"]),(0,a.Wm)(we.v,{class:"ma-2",color:e.albumColor[10],"text-color":"white"},{default:(0,a.w5)((()=>[(0,a.Wm)(h.t,{left:""},{default:(0,a.w5)((()=>[(0,a.Uk)("mdi-clock")])),_:1}),(0,a.Uk)(" Length: "+(0,s.zw)(this.duration)+" ",1)])),_:1},8,["color"]),(0,a.Wm)(we.v,{class:"ma-2",color:e.albumColor[10],"text-color":"white"},{default:(0,a.w5)((()=>[(0,a.Wm)(h.t,{color:"white"},{default:(0,a.w5)((()=>[(0,a.Uk)("mdi-check")])),_:1}),(0,a.Uk)(" Completed: "+(0,s.zw)(this.songData.completed),1)])),_:1},8,["color"]),(0,a.Wm)(we.v,{class:"ma-2",color:e.albumColor[10],"text-color":"white"},{default:(0,a.w5)((()=>[(0,a.Wm)(h.t,{class:"mr-1"},{default:(0,a.w5)((()=>[(0,a.Uk)("mdi-calendar-clock")])),_:1}),(0,a.Uk)(" Created: "+(0,s.zw)(W.formatDate(e.songData.created_at)),1)])),_:1},8,["color"]),(0,a.Wm)(we.v,{class:"ma-2",color:e.albumColor[10],"text-color":"white"},{default:(0,a.w5)((()=>[(0,a.Wm)(h.t,{small:"",class:"mr-1"},{default:(0,a.w5)((()=>[(0,a.Uk)("mdi-calendar-edit")])),_:1}),(0,a.Uk)(" Updated: "+(0,s.zw)(W.formatDate(e.songData.updated_at)),1)])),_:1},8,["color"])]),(0,a.Wm)(d._,{class:"pa-0",elevation:"2",style:{width:"200px",height:"200px",overflow:"hidden",display:"flex","justify-content":"center","align-items":"center"}},{default:(0,a.w5)((()=>[(0,a.Wm)(We.f,{src:"http://192.168.0.93:8000/"+this.songData.cover,style:{"object-fit":"cover",width:"100%",height:"100%","border-radius":"50%",border:"10px solid white",position:"relative"},class:"cd-animation"},{default:(0,a.w5)((()=>[ct])),_:1},8,["src"])])),_:1})])])):(0,a.kq)("",!0)])),_:1},8,["color"]),(0,a._)("div",mt,null,512),(0,a.Wm)(d._,{rounded:""},{default:(0,a.w5)((()=>[(0,a.Wm)(S.h,null,{default:(0,a.w5)((()=>[(0,a.Wm)(m.o,{class:"mx-0 justify-content-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(T.D,{cols:"12",class:"text-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(r.T,{icon:"",onClick:t[7]||(t[7]=t=>e.wavesurfer.skipBackward())},{default:(0,a.w5)((()=>[(0,a.Wm)(h.t,null,{default:(0,a.w5)((()=>[(0,a.Uk)("mdi-skip-previous")])),_:1})])),_:1}),(0,a.Wm)(r.T,{icon:"",onClick:t[8]||(t[8]=t=>e.wavesurfer.playPause())},{default:(0,a.w5)((()=>[(0,a.Wm)(h.t,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(e.playing?"mdi-pause":"mdi-play"),1)])),_:1})])),_:1}),(0,a.Wm)(r.T,{icon:"",onClick:t[9]||(t[9]=t=>e.wavesurfer.skipForward())},{default:(0,a.w5)((()=>[(0,a.Wm)(h.t,null,{default:(0,a.w5)((()=>[(0,a.Uk)("mdi-skip-next")])),_:1})])),_:1}),(0,a.Wm)(r.T,{icon:"",onClick:t[10]||(t[10]=e=>W.downloadAudio())},{default:(0,a.w5)((()=>[(0,a.Wm)(h.t,null,{default:(0,a.w5)((()=>[(0,a.Uk)("mdi-download")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.Wm)(T.D,null,{default:(0,a.w5)((()=>[(0,a.Wm)(d._,null,{default:(0,a.w5)((()=>[(0,a.Wm)(ye.d,{modelValue:e.tab,"onUpdate:modelValue":t[11]||(t[11]=t=>e.tab=t),color:this.albumColor[2],class:"mt-3 centered-tab-buttons",grow:""},{default:(0,a.w5)((()=>[(0,a.Wm)(Ce.L,{value:"one"},{default:(0,a.w5)((()=>[(0,a.Uk)("Tasks")])),_:1}),(0,a.Wm)(Ce.L,{value:"two"},{default:(0,a.w5)((()=>[(0,a.Uk)("Messages")])),_:1})])),_:1},8,["modelValue","color"]),(0,a.Wm)(V.Z,null,{default:(0,a.w5)((()=>[(0,a.Wm)(Ue.Oo,{modelValue:e.tab,"onUpdate:modelValue":t[20]||(t[20]=t=>e.tab=t)},{default:(0,a.w5)((()=>[(0,a.Wm)(Pe.H,{value:"one"},{default:(0,a.w5)((()=>[(0,a._)("div",ht,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(this?.tasks,((t,l)=>((0,a.wg)(),(0,a.j4)(d._,{key:l,width:"341",title:t.title,subtitle:t.song,text:t.description},{default:(0,a.w5)((()=>[(0,a.Wm)(S.h,null,{default:(0,a.w5)((()=>[!1===t.completed?((0,a.wg)(),(0,a.j4)(r.T,{key:0,rounded:"",color:e.white,onClick:l=>{e.finishTaskDialog=!0,e.selectedTask=t}},{default:(0,a.w5)((()=>[(0,a.Wm)(h.t,{left:""},{default:(0,a.w5)((()=>[(0,a.Uk)("mdi-check")])),_:1}),(0,a.Uk)(" Mark as complete ")])),_:2},1032,["color","onClick"])):(0,a.kq)("",!0),!0===t.completed?((0,a.wg)(),(0,a.j4)(r.T,{key:1,rounded:"",color:e.white},{default:(0,a.w5)((()=>[(0,a.Wm)(h.t,{left:""},{default:(0,a.w5)((()=>[(0,a.Uk)("mdi-check")])),_:1}),(0,a.Uk)(" Completed ")])),_:1},8,["color"])):(0,a.kq)("",!0)])),_:2},1024)])),_:2},1032,["title","subtitle","text"])))),128))]),(0,a.Wm)(ke.B,{modelValue:e.finishTaskDialog,"onUpdate:modelValue":t[17]||(t[17]=t=>e.finishTaskDialog=t),"max-width":"600px"},{default:(0,a.w5)((()=>[(0,a.Wm)(d._,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u.E,null,{default:(0,a.w5)((()=>[ft])),_:1}),(0,a.Wm)(V.Z,null,{default:(0,a.w5)((()=>[(0,a.Wm)(ee.K,null,{default:(0,a.w5)((()=>[(0,a.Wm)(m.o,null,{default:(0,a.w5)((()=>[(0,a.Wm)(T.D,{cols:"12"},{default:(0,a.w5)((()=>["DAW Files"!==this.typeSelect?((0,a.wg)(),(0,a.j4)(_e.Z,{key:0,label:"Upload file(s)",onChange:W.onFileSelected,multiple:""},null,8,["onChange"])):(0,a.kq)("",!0),"DAW Files"===this.typeSelect?((0,a.wg)(),(0,a.j4)(_e.Z,{key:1,label:"Upload DAW files",onChange:W.ZipFiles,multiple:""},null,8,["onChange"])):(0,a.kq)("",!0)])),_:1}),(0,a.Wm)(T.D,{cols:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(ve.z,{modelValue:e.taskDescription,"onUpdate:modelValue":t[12]||(t[12]=t=>e.taskDescription=t),counter:100,label:"Description",required:""},null,8,["modelValue"])])),_:1}),(0,a.Wm)(T.D,{cols:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(De.r,{modelValue:e.typeSelect,"onUpdate:modelValue":t[13]||(t[13]=t=>e.typeSelect=t),onClick:t[14]||(t[14]=t=>e.console.log(this.typeSelect)),items:this.finishSelect,rules:[e=>!!e||"Item is required"],label:"File type:",required:""},null,8,["modelValue","items","rules"])])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.Wm)(S.h,null,{default:(0,a.w5)((()=>[(0,a.Wm)(c.C),(0,a.Wm)(r.T,{color:"blue darken-1",text:"",onClick:t[15]||(t[15]=t=>e.finishTaskDialog=!1)},{default:(0,a.w5)((()=>[(0,a.Uk)("Cancel")])),_:1}),(0,a.Wm)(r.T,{color:"blue darken-1",text:"",onClick:t[16]||(t[16]=e=>W.finishTaskSubmitForm())},{default:(0,a.w5)((()=>[(0,a.Uk)("Submit")])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),pt])),_:1}),(0,a.Wm)(Pe.H,{value:"two"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.messages,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e.timestamp},[gt,(0,a._)("span",wt,(0,s.zw)(e.user)+":",1),(0,a._)("span",kt,(0,s.zw)(e.content),1)])))),128)),(0,a._)("div",_t,[(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":t[18]||(t[18]=t=>e.newMessage=t),placeholder:"Type a message..."},null,512),[[o.nr,e.newMessage]]),(0,a._)("button",{onClick:t[19]||(t[19]=(...e)=>W.sendMessage&&W.sendMessage(...e))},"Send")])])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1}),(0,a._)("div",Wt,[1==this.projectPage?((0,a.wg)(),(0,a.j4)(T.D,{key:0,cols:"12",sm:"6",md:"4"},{default:(0,a.w5)((()=>[(0,a._)("div",null,[(0,a.Wm)(ke.B,{modelValue:e.versionDialog,"onUpdate:modelValue":t[23]||(t[23]=t=>e.versionDialog=t),"max-width":"600px"},{default:(0,a.w5)((()=>[(0,a.Wm)(d._,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u.E,null,{default:(0,a.w5)((()=>[Dt])),_:1}),(0,a.Wm)(V.Z,null,{default:(0,a.w5)((()=>[(0,a.Wm)(ee.K,null,{default:(0,a.w5)((()=>[(0,a.Wm)(m.o,null,{default:(0,a.w5)((()=>[(0,a.Wm)(T.D,{cols:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(_e.Z,{label:"Upload audio file",onChange:W.onFileSelected,accept:"audio/*"},null,8,["onChange"])])),_:1}),(0,a.Wm)(T.D,{cols:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(ve.z,{label:"Description",modelValue:e.song.description,"onUpdate:modelValue":t[21]||(t[21]=t=>e.song.description=t)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.Wm)(S.h,null,{default:(0,a.w5)((()=>[(0,a.Wm)(c.C),(0,a.Wm)(r.T,{color:"blue darken-1",text:"",onClick:t[22]||(t[22]=t=>e.versionDialog=!1)},{default:(0,a.w5)((()=>[(0,a.Uk)(" Cancel ")])),_:1}),(0,a.Wm)(r.T,{color:"blue darken-1",text:"",onClick:W.submitUpdateForm},{default:(0,a.w5)((()=>[(0,a.Uk)(" Submit ")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)(ke.B,{modelValue:e.DAWDialog,"onUpdate:modelValue":t[26]||(t[26]=t=>e.DAWDialog=t),"max-width":"600px"},{default:(0,a.w5)((()=>[(0,a.Wm)(d._,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u.E,null,{default:(0,a.w5)((()=>[bt])),_:1}),(0,a.Wm)(V.Z,null,{default:(0,a.w5)((()=>[(0,a.Wm)(ee.K,null,{default:(0,a.w5)((()=>[(0,a.Wm)(m.o,null,{default:(0,a.w5)((()=>[(0,a.Wm)(T.D,{cols:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(_e.Z,{label:"Upload DAW files",onChange:W.ZipFiles,multiple:""},null,8,["onChange"])])),_:1}),(0,a.Wm)(T.D,{cols:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(ve.z,{label:"Description",modelValue:e.DAWDescription,"onUpdate:modelValue":t[24]||(t[24]=t=>e.DAWDescription=t)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.Wm)(S.h,null,{default:(0,a.w5)((()=>[(0,a.Wm)(c.C),(0,a.Wm)(r.T,{color:"blue darken-1",text:"",onClick:t[25]||(t[25]=t=>e.DAWDialog=!1)},{default:(0,a.w5)((()=>[(0,a.Uk)(" Cancel ")])),_:1}),(0,a.Wm)(r.T,{color:"blue darken-1",text:"",onClick:W.DAWSubmitForm},{default:(0,a.w5)((()=>[(0,a.Uk)(" Submit ")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])])),_:1})):(0,a.kq)("",!0)]),1==this.projectPage?((0,a.wg)(),(0,a.iD)("div",jt,[(0,a.Wm)(ee.K,{class:"mt-5"})])):(0,a.kq)("",!0),(0,a._)("div",null,[(0,a.Wm)(ke.B,{modelValue:e.stemDialog,"onUpdate:modelValue":t[30]||(t[30]=t=>e.stemDialog=t),"max-width":"600px"},{default:(0,a.w5)((()=>[(0,a.Wm)(d._,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u.E,null,{default:(0,a.w5)((()=>[yt])),_:1}),(0,a.Wm)(V.Z,null,{default:(0,a.w5)((()=>[(0,a.Wm)(ee.K,null,{default:(0,a.w5)((()=>[(0,a.Wm)(m.o,null,{default:(0,a.w5)((()=>[(0,a.Wm)(T.D,{cols:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(A.hw,{modelValue:e.stemTitle,"onUpdate:modelValue":t[27]||(t[27]=t=>e.stemTitle=t),counter:50,label:"Title",required:""},null,8,["modelValue"])])),_:1}),(0,a.Wm)(T.D,{cols:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(_e.Z,{label:"Upload audio file",onChange:W.onFileSelected,accept:"audio/*"},null,8,["onChange"])])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.Wm)(S.h,null,{default:(0,a.w5)((()=>[(0,a.Wm)(c.C),(0,a.Wm)(r.T,{color:"blue darken-1",text:"",onClick:t[28]||(t[28]=t=>e.stemDialog=!1)},{default:(0,a.w5)((()=>[(0,a.Uk)("Cancel")])),_:1}),(0,a.Wm)(r.T,{color:"blue darken-1",text:"",onClick:t[29]||(t[29]=e=>W.stemSubmitForm())},{default:(0,a.w5)((()=>[(0,a.Uk)("Submit")])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}var vt=l(9730),Ut=l.n(vt),Pt={props:{projectName:{type:String,required:!0},songName:{type:String,required:!0}},beforeCreate(){this.projectPage=!0,this.$store.commit("initializeStore");const e=this.$store.state.token;console.log(this.$store.state.isAuthenticated),e?b.Z.defaults.headers.common.Authorization="Token "+e:(b.Z.defaults.headers.common.Authorization="",this.$router.push("/login")),b.Z.get("/api/v1/users/me/",e).then((e=>{this.userInfo=e.data,console.log(this.userInfo),this.getSongData(),this.getVersions(),this.getStems(),this.getDAW(),this.getTasks(),this.fetchMessages()})).catch((e=>{console.log(e)}))},data:()=>({userInfo:"",projectInfo:"",selectedProjectSongs:"",projectLength:0,dialog:!1,projectDialog:!1,editDialog:!1,song:{title:"",description:"",audioFile:null},selectedDate:null,addPage:!1,projectPage:!1,links:["My Projects","Messages","Profile","Updates"],select:"",collabEmail:"",emailList:[],items:["FL Studio","Ableton Live","Logic Pro","Reason","Avid Pro Tools"],image:null,imagePath:"",confirmDelete:!1,albumColor:"",completedProjects:[],ongoingProjects:[],confirmDelete:!1,infoDialog:!1,selectedItem:{},tab:null,stemTitle:"",stems:[],stemDialog:!1,DAWFiles:[],DAWDialog:!1,songData:[],versions:[],versionDialog:!1,selectedVersion:"",duration:null,wavesurfer:null,versionDialog:!1,playing:!1,volume:50,song:{description:""},projectPage:!0,zippedFile:null,DAWDescription:"",finishTaskDialog:!1,taskDialog:!1,taskTitle:"",taskDescription:"",songNames:[],tasks:null,typeSelect:"",selectedTask:null,zippedFile:null,finishSelect:["DAW Files","Music File","Stems"],messages:[],newMessage:""}),mounted(){this.wavesurfer=Ut().create({container:this.$refs.waveform,waveColor:"black",progressColor:"#54524c"}),this.wavesurfer.on("play",(()=>{this.playing=!0})),this.wavesurfer.on("pause",(()=>{this.playing=!1})),this.wavesurfer.on("finish",(()=>{this.playing=!1})),this.wavesurfer.setVolume(this.volume/100)},methods:{onRowClick(e){this.selectedItem=e,this.infoDialog=!0},formatDate(e){const t=new Date(e),l=t.getFullYear(),o=(t.getMonth()+1).toString().padStart(2,"0"),a=t.getDate().toString().padStart(2,"0"),s=t.getHours().toString().padStart(2,"0"),i=t.getMinutes().toString().padStart(2,"0");return`${a}-${o}-${l} ${s}:${i}`},getVersions(){console.log(this.projectName),b.Z.get("/getVersions/"+this.songName+"/"+this.projectName+"/").then((e=>{this.versions=e.data.Versions,console.log(this.versions),this.projectPage=!0})).catch((e=>{console.log(e)}))},getStems(){console.log(this.projectName),b.Z.get("/getStems/"+this.songName+"/"+this.projectName+"/").then((e=>{this.stems=e.data.Stems,console.log(this.versions),this.projectPage=!0})).catch((e=>{console.log(e)}))},getSongData(){b.Z.get("/getSongData/"+this.songName+"/"+this.projectName+"/").then((e=>{console.log(this.albumColor),this.songData=e.data.SongData[0],this.getDominantColor(),console.log(this.songData)})).catch((e=>{console.log(e)}))},onFileInput(e){const t=URL.createObjectURL(e.target.files[0]);console.log(this.image[0]),this.imagePath=t},loadAndPlayAudio(e){console.log(e),this.wavesurfer&&e&&(this.wavesurfer.load(e),this.wavesurfer.on("ready",(()=>{this.duration=this.wavesurfer.getDuration();const e=Math.floor(this.duration/60),t=Math.round(this.duration%60);this.duration=`${e.toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`,this.wavesurfer.play()})))},onFileSelected(e){this.song.audioFile=e.target.files[0]},submitUpdateForm(){console.log(this.song);const e=new FormData;e.append("file",this.song.audioFile),e.append("description",this.song.description),e.append("username",this.userInfo.username),console.log(e),b.Z.post("/getVersions/"+this.songName+"/"+this.projectName+"/",e).then((e=>{console.log(e),this.getVersions()})).catch((e=>{console.log(e)})),this.getVersions(),this.versionDialog=!1},stemSubmitForm(){console.log(this.song);const e=new FormData;e.append("file",this.song.audioFile),e.append("description",this.stemTitle),e.append("username",this.userInfo.username),console.log(e),b.Z.post("/getStems/"+this.songName+"/"+this.projectName+"/",e).then((e=>{console.log(e),this.getStems()})).catch((e=>{console.log(e)})),this.stemDialog=!1},DAWSubmitForm(){console.log(this.song);const e=new FormData;e.append("file",this.zippedFile),e.append("description",this.DAWDescription),e.append("username",this.userInfo.username),console.log(e),b.Z.post("/getDAWFiles/"+this.songName+"/"+this.projectName+"/",e).then((e=>{console.log(e),this.getDAW()})).catch((e=>{console.log(e)})),this.DAWDialog=!1},getDAW(){console.log(this.projectName),b.Z.get("/getDAWFiles/"+this.songName+"/"+this.projectName+"/").then((e=>{this.DAWFiles=e.data.DAW_File,console.log("This is the DAW files"+this.DAWFiles),this.projectPage=!0})).catch((e=>{console.log(e)}))},deleteItem(e){b.Z.defaults.xsrfHeaderName="X-CSRFToken",b.Z.defaults.xsrfCookieName="csrftoken",b.Z["delete"](`/deleteSong/${e}/`,{withCredentials:!0}).then((t=>{console.log(`Item with ID ${e} deleted successfully!`),this.getProjectSongs()})).catch((t=>{console.log(`Error deleting item with ID ${e}: ${t.message}`)}))},markComplete(e){b.Z.defaults.xsrfHeaderName="X-CSRFToken",b.Z.defaults.xsrfCookieName="csrftoken",b.Z.post(`/markComplete/${e}/`,{withCredentials:!0}).then((t=>{console.log(`Item with ID ${e} is complete!`),this.getProjects()})).catch((t=>{console.log(`Error deleting item with ID ${e}: ${t.message}`)}))},async getDominantColor(){const e=new Image;e.crossOrigin="Anonymous",e.src=`http://192.168.0.93:8000/${this.songData.cover}`,e.onload=async()=>{const t=new lt.Z,l=t.getPalette(e,10),o=l.map((e=>`rgb(${e[0]}, ${e[1]}, ${e[2]})`));this.albumColor=o,console.log("The colors for the album are:",this.albumColors)}},async ZipFiles(e){const t=e.target.files,l=new(st());for(let a=0;a<t.length;a++)l.file(t[a].name,t[a]);const o=await l.generateAsync({type:"blob"});this.zippedFile=new File([o],this.songName+".zip",{type:"application/zip"}),console.log("Zipped file:",this.zippedFile)},downloadFile(e){let t=document.createElement("a");t.href=e,t.download=e.split("/").pop(),document.body.appendChild(t),t.click(),document.body.removeChild(t)},async sendMessage(){if(""!==this.newMessage.trim())try{const e=new FormData;e.append("content",this.newMessage),e.append("username",this.userInfo.username);await b.Z.post("/messages/"+this.songData.projectId+"/",e);this.fetchMessages(),this.newMessage=""}catch(e){console.error("Error sending message:",e)}},async fetchMessages(){try{const e=await b.Z.get("/messages/"+this.songData.projectId+"/");this.messages=e.data.messages}catch(e){console.error("Error fetching messages:",e)}},filteredTasks(){return this.tasks?.Projects.filter((e=>e.worker===this.userInfo.username&&e.song===this.songName))},getTasks(){b.Z.get("/getTasks/"+this.projectName+"/").then((e=>{this.tasks=e.data,this.tasks=this.filteredTasks(),console.log(this.tasks)})).catch((e=>{console.log(e)}))},finishTaskSubmitForm(){const e=new FormData;e.append("description",this.taskDescription),"Music File"===this.typeSelect&&(e.append("file",this.song.audioFile),e.append("username",this.userInfo.username),b.Z.post("/getVersions/"+this.selectedTask.song+"/"+this.projectName+"/",e).then((e=>{console.log(e),this.getVersions()})).catch((e=>{console.log(e)}))),"Stems"===this.typeSelect&&(e.append("file",this.song.audioFile),e.append("username",this.userInfo.username),b.Z.post("/getStems/"+this.selectedTask.song+"/"+this.projectName+"/",e).then((e=>{console.log(e),this.getStems()})).catch((e=>{console.log(e)}))),"DAW Files"===this.typeSelect&&(e.append("file",this.zippedFile),e.append("username",this.userInfo.username),b.Z.post("/getDAWFiles/"+this.selectedTask.song+"/"+this.projectName+"/",e).then((e=>{console.log(e),this.getDAW()})).catch((e=>{console.log(e)}))),b.Z.post("/finishTask/"+this.selectedTask.id+"/").then((e=>{console.log(e),this.getTasks(),this.fetchLogs()})).catch((e=>{console.log(e)})),this.finishTaskDialog=!1},downloadAudio(){const e=document.createElement("a");e.href="http://192.168.0.93:8000/"+this.selectedVersion.file+"/",e.download=this.songName+".wav",e.click()}}};const Vt=(0,y.Z)(Pt,[["render",Ct]]);var St=Vt;const xt=(0,a._)("h1",null,"Edit Profile",-1);function Tt(e,t,l,i,n,d){return(0,a.wg)(),(0,a.j4)(ee.K,{fluid:"",class:"edit-profile fill-height"},{default:(0,a.w5)((()=>[(0,a.Wm)(m.o,{align:"center",justify:"center",class:"fill-height"},{default:(0,a.w5)((()=>[(0,a.Wm)(T.D,{cols:"12",sm:"8",md:"6"},{default:(0,a.w5)((()=>[xt,(0,a.Wm)(x.O,{onSubmit:(0,o.iM)(d.submitForm,["prevent"])},{default:(0,a.w5)((()=>[(0,a.Wm)(A.hw,{label:"First Name",modelValue:n.formData.first_name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.formData.first_name=e),rules:[n.rules.required],required:""},null,8,["modelValue","rules"]),(0,a.Wm)(A.hw,{label:"Last Name",modelValue:n.formData.last_name,"onUpdate:modelValue":t[1]||(t[1]=e=>n.formData.last_name=e),rules:[n.rules.required],required:""},null,8,["modelValue","rules"]),(0,a.Wm)(A.hw,{label:"Username",modelValue:n.formData.username,"onUpdate:modelValue":t[2]||(t[2]=e=>n.formData.username=e),rules:[n.rules.required],required:""},null,8,["modelValue","rules"]),(0,a.Wm)(A.hw,{label:"Email",modelValue:n.formData.email,"onUpdate:modelValue":t[3]||(t[3]=e=>n.formData.email=e),rules:[n.rules.required,n.rules.email],required:"",type:"email"},null,8,["modelValue","rules"]),(0,a.Wm)(r.T,{type:"submit",color:"primary"},{default:(0,a.w5)((()=>[(0,a.Uk)("Save Changes")])),_:1})])),_:1},8,["onSubmit"]),(0,a.Wm)(F.v,{modelValue:n.snackbar.show,"onUpdate:modelValue":t[5]||(t[5]=e=>n.snackbar.show=e),color:n.snackbar.color,timeout:5e3,top:""},{default:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(n.snackbar.text)+" ",1),(0,a.Wm)(r.T,{color:"white",text:"",onClick:t[4]||(t[4]=e=>n.snackbar.show=!1)},{default:(0,a.w5)((()=>[(0,a.Uk)("Close")])),_:1})])),_:1},8,["modelValue","color"])])),_:1})])),_:1})])),_:1})}var Ft={beforeCreate(){this.$store.commit("initializeStore");const e=this.$store.state.token;console.log(this.$store.state.isAuthenticated),b.Z.defaults.headers.common.Authorization=e?"Token "+e:"",b.Z.get("/api/v1/users/me/",e).then((e=>{this.userInfo=e.data,console.log(this.userInfo),this.formData.username=this.userInfo.username,this.formData.email=this.userInfo.email,this.formData.first_name=this.userInfo.first_name,this.formData.last_name=this.userInfo.last_name})).catch((e=>{console.log(e)}))},data(){return{formData:{first_name:"",last_name:"",username:"",email:""},rules:{required:e=>!!e||"Required.",email:e=>/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(e)||"Invalid email."},snackbar:{show:!1,text:"",color:"success"}}},methods:{async submitForm(){try{await b.Z.post("/api/edit_profile/"+this.userInfo.username+"/",this.formData),window.scrollTo(0,0),this.snackbar.text="Profile updated successfully",this.snackbar.color="success",this.snackbar.show=!0}catch(e){console.error(e),window.scrollTo(0,0),this.snackbar.text="Failed to update profile",this.snackbar.color="error",this.snackbar.show=!0}}}};const At=(0,y.Z)(Ft,[["render",Tt]]);var Zt=At;function It(e,t,l,s,i,n){return(0,a.wg)(),(0,a.j4)(ee.K,{fluid:"",class:"d-flex align-center justify-center",style:{"min-height":"100vh"}},{default:(0,a.w5)((()=>[(0,a.Wm)(m.o,{justify:"center"},{default:(0,a.w5)((()=>[(0,a.Wm)(T.D,{cols:"12",sm:"8",md:"6"},{default:(0,a.w5)((()=>[(0,a.Wm)(d._,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u.E,null,{default:(0,a.w5)((()=>[(0,a.Uk)("Password Reset")])),_:1}),(0,a.Wm)(V.Z,null,{default:(0,a.w5)((()=>[(0,a.Wm)(x.O,{ref:"form",modelValue:e.valid,"onUpdate:modelValue":t[1]||(t[1]=t=>e.valid=t),onSubmit:(0,o.iM)(n.sendResetLink,["prevent"])},{default:(0,a.w5)((()=>[(0,a.Wm)(A.hw,{modelValue:e.email,"onUpdate:modelValue":t[0]||(t[0]=t=>e.email=t),rules:e.emailRules,label:"E-mail",required:"",outlined:""},null,8,["modelValue","rules"]),(0,a.Wm)(r.T,{disabled:!e.valid,color:"primary",class:"mr-4",type:"submit"},{default:(0,a.w5)((()=>[(0,a.Uk)(" Send Password Reset Link ")])),_:1},8,["disabled"])])),_:1},8,["modelValue","onSubmit"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}var $t={data:()=>({valid:!0,email:"",emailRules:[e=>!!e||"E-mail is required",e=>/.+@.+/.test(e)||"E-mail must be valid"]}),methods:{async sendResetLink(){if(this.$refs.form.validate())try{await b.Z.post("/api/v1/users/reset_password/",{email:this.email}),this.$toast.success("Password reset link sent to your email")}catch(e){console.error(e),this.$toast.error("Error sending password reset link")}}}};const zt=(0,y.Z)($t,[["render",It]]);var qt=zt;function Nt(e,t,l,s,i,n){return(0,a.wg)(),(0,a.j4)(ee.K,{fluid:"","fill-height":""},{default:(0,a.w5)((()=>[(0,a.Wm)(m.o,{align:"center",justify:"center"},{default:(0,a.w5)((()=>[(0,a.Wm)(T.D,{cols:"12",sm:"8",md:"6"},{default:(0,a.w5)((()=>[(0,a.Wm)(d._,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u.E,null,{default:(0,a.w5)((()=>[(0,a.Uk)("Password Reset Confirmation")])),_:1}),(0,a.Wm)(V.Z,null,{default:(0,a.w5)((()=>[(0,a.Wm)(x.O,{ref:"form",onSubmit:(0,o.iM)(n.submit,["prevent"])},{default:(0,a.w5)((()=>[(0,a.Wm)(A.hw,{modelValue:i.password,"onUpdate:modelValue":t[0]||(t[0]=e=>i.password=e),label:"New Password",rules:i.passwordRules,type:"password",required:""},null,8,["modelValue","rules"]),(0,a.Wm)(A.hw,{modelValue:i.passwordConfirm,"onUpdate:modelValue":t[1]||(t[1]=e=>i.passwordConfirm=e),label:"Confirm New Password",rules:i.passwordConfirmRules,type:"password",required:""},null,8,["modelValue","rules"]),(0,a.Wm)(S.h,null,{default:(0,a.w5)((()=>[(0,a.Wm)(c.C),(0,a.Wm)(r.T,{color:"primary",type:"submit"},{default:(0,a.w5)((()=>[(0,a.Uk)("Reset Password")])),_:1})])),_:1})])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}var Et={data(){return{password:"",passwordConfirm:"",passwordRules:[e=>!!e||"Password is required",e=>e.length>=8||"Password must be at least 8 characters"],passwordConfirmRules:[e=>!!e||"Password confirmation is required",e=>e===this.password||"Password and confirmation must match"]}},methods:{async submit(){if(this.$refs.form.validate())try{const e=this.$route.params.uid,t=this.$route.params.token;await b.Z.post("/api/v1/users/reset_password_confirm/",{uid:e,token:t,new_password:this.password,re_new_password:this.passwordConfirm}),this.$router.push("/login")}catch(e){console.error("An error occurred while resetting your password:",e),alert("An error occurred while resetting your password. Please try again.")}}}};const Lt=(0,y.Z)(Et,[["render",Nt]]);var Mt=Lt;const Rt=[{path:"/sign-up",name:"SignUp",component:J},{path:"/login",name:"Login",component:R},{path:"/home",name:"Home",component:pe},{path:"/dashboard",name:"Dashboard",component:rt},{path:"/songview/:projectName/:songName",name:"SongView",component:St,props:!0},{path:"/edit-profile",name:"EditProfile",component:Zt},{path:"/resetpassword",name:"PasswordReset",component:qt},{path:"/password-reset/confirm/:uid/:token/",name:"password-reset-confirm",component:Mt}],Ot=(0,U.p7)({history:(0,U.PO)("/"),routes:Rt});var Ht=Ot,Kt=l(65),Yt=(0,Kt.MT)({state:{token:"",isAuthenticated:!1},mutations:{initializeStore(e){localStorage.getItem("token")?(e.token=localStorage.getItem("token"),e.isAuthenticated=!0):(e.token="",e.isAuthenticated=!1)},setToken(e,t){e.token=t,e.isAuthenticated=!0},removeToken(e){localStorage.removeItem("token"),e.token="",e.isAuthenticated=!1}},actions:{},modules:{}}),Bt=(l(9773),l(8957)),Xt=(0,Bt.Rd)(),Gt=l(680);b.Z.defaults.baseURL="http://192.168.0.93:8000";const Qt=Gt.Z.get("csrftoken");b.Z.defaults.headers.common["X-CSRFToken"]=Qt,b.Z.defaults.withCredentials=!0,(0,o.ri)(v).use(Ht,b.Z).use(Yt).use(Xt).mount("#app")},8155:function(e,t,l){e.exports=l.p+"img/logo_only.6ce2ccc8.png"}},t={};function l(o){var a=t[o];if(void 0!==a)return a.exports;var s=t[o]={exports:{}};return e[o](s,s.exports,l),s.exports}l.m=e,function(){var e=[];l.O=function(t,o,a,s){if(!o){var i=1/0;for(u=0;u<e.length;u++){o=e[u][0],a=e[u][1],s=e[u][2];for(var n=!0,r=0;r<o.length;r++)(!1&s||i>=s)&&Object.keys(l.O).every((function(e){return l.O[e](o[r])}))?o.splice(r--,1):(n=!1,s<i&&(i=s));if(n){e.splice(u--,1);var d=a();void 0!==d&&(t=d)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[o,a,s]}}(),function(){l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,{a:t}),t}}(),function(){l.d=function(e,t){for(var o in t)l.o(t,o)&&!l.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){l.p="/"}(),function(){var e={143:0};l.O.j=function(t){return 0===e[t]};var t=function(t,o){var a,s,i=o[0],n=o[1],r=o[2],d=0;if(i.some((function(t){return 0!==e[t]}))){for(a in n)l.o(n,a)&&(l.m[a]=n[a]);if(r)var u=r(l)}for(t&&t(o);d<i.length;d++)s=i[d],l.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return l.O(u)},o=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=l.O(void 0,[998],(function(){return l(2676)}));o=l.O(o)})();
//# sourceMappingURL=app.8d36d457.js.map